import{P as g,R as L,r as t,j as o,B as m,T as E,aD as d,w as M}from"./index-DnRqwzUl.js";import{D as T}from"./Dropdown--aEEoNmI.js";import{M as N}from"./MultiDropdown-DK6HYnw_.js";import{C as B,A as O}from"./CredentialInputHandler-DbnyuUkE.js";import{I as A}from"./Input-_ea17EIV.js";import{D as F,M as J,E as b}from"./ManageScrapedLinksDialog-oyBXe673.js";import{F as z}from"./File-C_tX6sl7.js";import{I as R,a as W,S as G,J as H}from"./CredentialListDialog-DnIzHkJm.js";import{a as _}from"./TooltipWithParser-RGTD2K7r.js";import{C as q}from"./CodeEditor-Dz_1ga14.js";import{I as K}from"./IconSearch-DuKTugus.js";const Q=({inputParam:e,data:s,disabled:l=!1})=>{var x;const p=L(n=>n.customization),[f,r]=t.useState(!1),[y,j]=t.useState({}),[S,c]=t.useState(!1),[D,w]=t.useState({}),v=(n,i)=>{j({value:n,inputParam:i,disabled:l,confirmButtonName:"Save",cancelButtonName:"Cancel"}),r(!0)},a=(n,i,h,I)=>{w({url:n,relativeLinksMethod:h,limit:I,selectedLinks:i,confirmButtonName:"Save",cancelButtonName:"Cancel"}),c(!0)},C=(n,i)=>{c(!1),s.inputs.url=n,s.inputs.selectedLinks=i},k=(n,i)=>{r(!1),s.inputs[i]=n},u=()=>{const n=s.inputs.credential||s.inputs[d];return n?{credential:n}:{}};return o.jsxs("div",{children:[e&&o.jsx(o.Fragment,{children:o.jsxs(m,{sx:{p:2},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[o.jsxs(E,{children:[e.label,!e.optional&&o.jsx("span",{style:{color:"red"},children:"Â *"}),e.description&&o.jsx(_,{style:{marginLeft:10},title:e.description})]}),o.jsx("div",{style:{flexGrow:1}}),(e.type==="string"&&e.rows||e.type==="code")&&o.jsx(K,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>v(s.inputs[e.name]??e.default??"",e),children:o.jsx(R,{})})]}),e.warning&&o.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[o.jsx(W,{size:30,color:"orange"}),o.jsx("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:e.warning})]}),e.type==="credential"&&o.jsx(B,{disabled:l,data:u(),inputParam:e,onSelect:n=>{s.credential=n,s.inputs[d]=n}},JSON.stringify(e)),e.type==="file"&&o.jsx(z,{disabled:l,fileType:e.fileType||"*",onChange:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??"Choose a file to upload"}),e.type==="boolean"&&o.jsx(G,{disabled:l,onChange:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??!1}),e.type==="datagrid"&&o.jsx(F,{disabled:l,columns:e.datagrid,hideFooter:!0,rows:s.inputs[e.name]??JSON.stringify(e.default)??[],onChange:n=>s.inputs[e.name]=n}),e.type==="code"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"5px"}}),o.jsx("div",{style:{height:e.rows?"100px":"200px"},children:o.jsx(q,{disabled:l,value:s.inputs[e.name]??e.default??"",height:e.rows?"100px":"200px",theme:p.isDarkMode?"dark":"light",lang:"js",placeholder:e.placeholder,onValueChange:n=>s.inputs[e.name]=n,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1}})})]}),(e.type==="string"||e.type==="password"||e.type==="number")&&o.jsx(A,{disabled:l,inputParam:e,onChange:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??"",nodeId:s.id},s.inputs[e.name]),e.type==="json"&&o.jsx(H,{disabled:l,onChange:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??"",isDarkMode:p.isDarkMode}),e.type==="options"&&o.jsx(T,{disabled:l,name:e.name,options:e.options,onSelect:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??"choose an option"},JSON.stringify(e)),e.type==="multiOptions"&&o.jsx(N,{disabled:l,name:e.name,options:e.options,onSelect:n=>s.inputs[e.name]=n,value:s.inputs[e.name]??e.default??"choose an option"},JSON.stringify(e)),e.type==="asyncOptions"&&o.jsxs(o.Fragment,{children:[((x=s.inputParams)==null?void 0:x.length)===1&&o.jsx("div",{style:{marginTop:10}}),o.jsx("div",{style:{display:"flex",flexDirection:"row"},children:o.jsx(O,{disabled:l,name:e.name,nodeData:s,value:s.inputs[e.name]??e.default??"choose an option",onSelect:n=>s.inputs[e.name]=n,onCreateNew:()=>addAsyncOption(e.name)},JSON.stringify(e))})]}),(s.name==="cheerioWebScraper"||s.name==="puppeteerWebScraper"||s.name==="playwrightWebScraper")&&e.name==="url"&&o.jsxs(o.Fragment,{children:[o.jsx(M,{style:{display:"flex",flexDirection:"row",width:"100%"},disabled:l,sx:{borderRadius:"12px",width:"100%",mt:1},variant:"outlined",onClick:()=>a(s.inputs[e.name]??e.default??"",s.inputs.selectedLinks,s.inputs.relativeLinksMethod??"webCrawl",parseInt(s.inputs.limit)??0),children:"Manage Links"}),o.jsx(J,{show:S,dialogProps:D,onCancel:()=>c(!1),onSave:C})]})]})}),o.jsx(b,{show:f,dialogProps:y,onCancel:()=>r(!1),onConfirm:(n,i)=>k(n,i)})]})};Q.propTypes={inputParam:g.object,data:g.object,disabled:g.bool};export{Q as D};
