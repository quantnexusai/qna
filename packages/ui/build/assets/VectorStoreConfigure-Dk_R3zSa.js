import{r as i,ap as ct,j as t,f as X,e as G,s as k,_ as m,k as Q,l as V,m as z,n as K,d as dt,aq as Ht,i as be,ar as Ot,as as xe,at as Ut,a as pt,au as Et,av as Re,aw as _t,ax as Ee,A as $e,ay as De,az as Le,aA as Vt,a3 as Ae,T as me,aB as Wt,P as q,R as ut,x as ft,b as se,z as zt,H as st,D as mt,q as gt,t as ht,B as _,I as Ke,am as Ft,an as Bt,c as je,w as te,S as xt,U as Yt,V as qt,W as Xt,Y as Gt,Q as Qt,N as Kt,o as bt,p as vt,u as Jt,y as Zt,ac as eo,M as to,K as oo,L as ro,ah as _e,ai as Ve}from"./index-DnRqwzUl.js";import{m as St}from"./moment-BWt7C7z3.js";import{C as no}from"./ConfirmDialog-BByP0sN1.js";import{O as so}from"./OutlinedInput-BjbOs3SL.js";import{I as it}from"./TooltipWithParser-RGTD2K7r.js";import{b as io,I as Te}from"./IconSearch-DuKTugus.js";import{D as We}from"./DocStoreInputHandler-1xUy3PTU.js";import{V as ao}from"./ViewHeader-9nMyGl0H.js";import{B as lo}from"./BackdropLoader-DvSyWYu7.js";import{E as co}from"./ErrorBoundary-Cg9p9QiY.js";import{v as po,H as uo,U as fo}from"./vectorstore-qXEJgq82.js";import{A as mo,a as go,d as ho,b as xo}from"./ExpandMore-DAWxT99K.js";import{T as bo}from"./Table-BAi7zzbe.js";import{S as Me}from"./StatsCard-Cfh8zCBf.js";import{d as he}from"./documentstore-CIq3Igom.js";import{n as ze}from"./nodes-BRMCXOaS.js";import{d as ke}from"./DynamicFeed-CVuA3vM_.js";import{I as vo}from"./IconRefresh-BWgNSOne.js";import{I as So}from"./IconDeviceFloppy-Cx85ZlDJ.js";import{G as ee}from"./Grid-88S9esAw.js";import{v as Fe}from"./v4-D8aEg3BZ.js";import"./StyledButton-UqN_3QZz.js";import"./Dropdown--aEEoNmI.js";import"./TextField-CWFlncnn.js";import"./FormControl-CwX-cgG8.js";import"./Menu-CKXvTZgV.js";import"./Popover-Bg7ct0u8.js";import"./MultiDropdown-DK6HYnw_.js";import"./CredentialInputHandler-DbnyuUkE.js";import"./CredentialListDialog-DnIzHkJm.js";import"./Input-_ea17EIV.js";import"./main-CbJP_nn5.js";import"./CircularProgress-B03PZohM.js";import"./ManageScrapedLinksDialog-oyBXe673.js";import"./Delete-TrOmempa.js";import"./IconPlus-t_dssfTo.js";import"./DataGrid-CjSdxyq0.js";import"./CodeEditor-Dz_1ga14.js";import"./IconTrash-CLrlpA-z.js";import"./File-C_tX6sl7.js";import"./StyledFab-ByxVeh_y.js";import"./IconArrowLeft-DlsmOOmz.js";import"./IconCopy-r160ectE.js";function Co(e){const{children:o,defer:r=!1,fallback:n=null}=e,[c,u]=i.useState(!1);return ct(()=>{r||u(!0)},[r]),i.useEffect(()=>{r&&u(!0)},[r]),t.jsx(i.Fragment,{children:c?o:n})}const yo=i.createContext({}),Ne=yo,jo=i.createContext({}),Je=jo;function wo(e){return X("MuiStep",e)}G("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const Ro=["active","children","className","component","completed","disabled","expanded","index","last"],Do=e=>{const{classes:o,orientation:r,alternativeLabel:n,completed:c}=e;return K({root:["root",r,n&&"alternativeLabel",c&&"completed"]},wo,o)},To=k("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel,r.completed&&o.completed]}})(({ownerState:e})=>m({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Mo=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiStep"}),{active:c,children:u,className:p,component:d="div",completed:a,disabled:g,expanded:S=!1,index:v,last:C}=n,T=V(n,Ro),{activeStep:A,connector:I,alternativeLabel:w,orientation:f,nonLinear:N}=i.useContext(Ne);let[H=!1,W=!1,O=!1]=[c,a,g];A===v?H=c!==void 0?c:!0:!N&&A>v?W=a!==void 0?a:!0:!N&&A<v&&(O=g!==void 0?g:!0);const M=i.useMemo(()=>({index:v,last:C,expanded:S,icon:v+1,active:H,completed:W,disabled:O}),[v,C,S,H,W,O]),x=m({},n,{active:H,orientation:f,alternativeLabel:w,completed:W,disabled:O,expanded:S,component:d}),J=Do(x),F=t.jsxs(To,m({as:d,className:z(J.root,p),ref:r,ownerState:x},T,{children:[I&&w&&v!==0?I:null,u]}));return t.jsx(Je.Provider,{value:M,children:I&&!w&&v!==0?t.jsxs(i.Fragment,{children:[I,F]}):F})}),ko=Mo,Io=dt(t.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Lo=dt(t.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Po(e){return X("MuiStepIcon",e)}const $o=G("MuiStepIcon",["root","active","completed","error","text"]),Be=$o;var at;const Ao=["active","className","completed","error","icon"],No=e=>{const{classes:o,active:r,completed:n,error:c}=e;return K({root:["root",r&&"active",n&&"completed",c&&"error"],text:["text"]},Po,o)},Ye=k(Ht,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${Be.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${Be.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${Be.error}`]:{color:(e.vars||e).palette.error.main}})),Ho=k("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,o)=>o.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),Oo=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiStepIcon"}),{active:c=!1,className:u,completed:p=!1,error:d=!1,icon:a}=n,g=V(n,Ao),S=m({},n,{active:c,completed:p,error:d}),v=No(S);if(typeof a=="number"||typeof a=="string"){const C=z(u,v.root);return d?t.jsx(Ye,m({as:Lo,className:C,ref:r,ownerState:S},g)):p?t.jsx(Ye,m({as:Io,className:C,ref:r,ownerState:S},g)):t.jsxs(Ye,m({className:C,ref:r,ownerState:S},g,{children:[at||(at=t.jsx("circle",{cx:"12",cy:"12",r:"12"})),t.jsx(Ho,{className:v.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:S,children:a})]}))}return a}),Uo=Oo;function Eo(e){return X("MuiStepLabel",e)}const _o=G("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),ie=_o,Vo=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Wo=e=>{const{classes:o,orientation:r,active:n,completed:c,error:u,disabled:p,alternativeLabel:d}=e;return K({root:["root",r,u&&"error",p&&"disabled",d&&"alternativeLabel"],label:["label",n&&"active",c&&"completed",u&&"error",p&&"disabled",d&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",c&&"completed",u&&"error",p&&"disabled",d&&"alternativeLabel"],labelContainer:["labelContainer",d&&"alternativeLabel"]},Eo,o)},zo=k("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation]]}})(({ownerState:e})=>m({display:"flex",alignItems:"center",[`&.${ie.alternativeLabel}`]:{flexDirection:"column"},[`&.${ie.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Fo=k("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,o)=>o.label})(({theme:e})=>m({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${ie.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${ie.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${ie.alternativeLabel}`]:{marginTop:16},[`&.${ie.error}`]:{color:(e.vars||e).palette.error.main}})),Bo=k("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,o)=>o.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${ie.alternativeLabel}`]:{paddingRight:0}})),Yo=k("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,o)=>o.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${ie.alternativeLabel}`]:{textAlign:"center"}})),Ct=i.forwardRef(function(o,r){var n;const c=Q({props:o,name:"MuiStepLabel"}),{children:u,className:p,componentsProps:d={},error:a=!1,icon:g,optional:S,slotProps:v={},StepIconComponent:C,StepIconProps:T}=c,A=V(c,Vo),{alternativeLabel:I,orientation:w}=i.useContext(Ne),{active:f,disabled:N,completed:H,icon:W}=i.useContext(Je),O=g||W;let M=C;O&&!M&&(M=Uo);const x=m({},c,{active:f,alternativeLabel:I,completed:H,disabled:N,error:a,orientation:w}),J=Wo(x),F=(n=v.label)!=null?n:d.label;return t.jsxs(zo,m({className:z(J.root,p),ref:r,ownerState:x},A,{children:[O||M?t.jsx(Bo,{className:J.iconContainer,ownerState:x,children:t.jsx(M,m({completed:H,active:f,error:a,icon:O},T))}):null,t.jsxs(Yo,{className:J.labelContainer,ownerState:x,children:[u?t.jsx(Fo,m({ownerState:x},F,{className:z(J.label,F==null?void 0:F.className),children:u})):null,S]})]}))});Ct.muiName="StepLabel";const qo=Ct;function Xo(e){return X("MuiStepConnector",e)}G("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Go=["className"],Qo=e=>{const{classes:o,orientation:r,alternativeLabel:n,active:c,completed:u,disabled:p}=e,d={root:["root",r,n&&"alternativeLabel",c&&"active",u&&"completed",p&&"disabled"],line:["line",`line${be(r)}`]};return K(d,Xo,o)},Ko=k("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel,r.completed&&o.completed]}})(({ownerState:e})=>m({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Jo=k("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.line,o[`line${be(r.orientation)}`]]}})(({ownerState:e,theme:o})=>{const r=o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[600];return m({display:"block",borderColor:o.vars?o.vars.palette.StepConnector.border:r},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Zo=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiStepConnector"}),{className:c}=n,u=V(n,Go),{alternativeLabel:p,orientation:d="horizontal"}=i.useContext(Ne),{active:a,disabled:g,completed:S}=i.useContext(Je),v=m({},n,{alternativeLabel:p,orientation:d,active:a,completed:S,disabled:g}),C=Qo(v);return t.jsx(Ko,m({className:z(C.root,c),ref:r,ownerState:v},u,{children:t.jsx(Jo,{className:C.line,ownerState:v})}))}),er=Zo;function tr(e){return X("MuiStepper",e)}G("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const or=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],rr=e=>{const{orientation:o,alternativeLabel:r,classes:n}=e;return K({root:["root",o,r&&"alternativeLabel"]},tr,n)},nr=k("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.orientation],r.alternativeLabel&&o.alternativeLabel]}})(({ownerState:e})=>m({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),sr=t.jsx(er,{}),ir=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiStepper"}),{activeStep:c=0,alternativeLabel:u=!1,children:p,className:d,component:a="div",connector:g=sr,nonLinear:S=!1,orientation:v="horizontal"}=n,C=V(n,or),T=m({},n,{alternativeLabel:u,orientation:v,component:a}),A=rr(T),I=i.Children.toArray(p).filter(Boolean),w=I.map((N,H)=>i.cloneElement(N,m({index:H,last:H+1===I.length},N.props))),f=i.useMemo(()=>({activeStep:c,alternativeLabel:u,connector:g,nonLinear:S,orientation:v}),[c,u,g,S,v]);return t.jsx(Ne.Provider,{value:f,children:t.jsx(nr,m({as:a,ownerState:T,className:z(A.root,d),ref:r},C,{children:w}))})}),ar=ir,lr=["anchor","classes","className","width","style"],cr=k("div",{shouldForwardProp:Ot})(({theme:e,ownerState:o})=>m({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},o.anchor==="left"&&{right:"auto"},o.anchor==="right"&&{left:"auto",right:0},o.anchor==="top"&&{bottom:"auto",right:0},o.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),dr=i.forwardRef(function(o,r){const{anchor:n,classes:c={},className:u,width:p,style:d}=o,a=V(o,lr),g=o;return t.jsx(cr,m({className:z("PrivateSwipeArea-root",c.root,c[`anchor${be(n)}`],u),ref:r,style:m({[xe(n)?"width":"height"]:p},d),ownerState:g},a))}),pr=dr,ur=["BackdropProps"],fr=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],Ie=3,qe=20;let re=null;function Xe(e,o,r){return e==="right"?r.body.offsetWidth-o[0].pageX:o[0].pageX}function Ge(e,o,r){return e==="bottom"?r.innerHeight-o[0].clientY:o[0].clientY}function ye(e,o){return e?o.clientWidth:o.clientHeight}function lt(e,o,r,n){return Math.min(Math.max(r?o-e:n+o-e,0),n)}function mr(e,o){const r=[];for(;e&&e!==o.parentElement;){const n=Le(o).getComputedStyle(e);n.getPropertyValue("position")==="absolute"||n.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&r.push(e),e=e.parentElement}return r}function gr({domTreeShapes:e,start:o,current:r,anchor:n}){const c={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(u=>{let p=r>=o;(n==="top"||n==="left")&&(p=!p);const d=n==="left"||n==="right"?"x":"y",a=Math.round(u[c.scrollPosition[d]]),g=a>0,S=a+u[c.clientLength[d]]<u[c.scrollLength[d]];return!!(p&&S||!p&&g)})}const hr=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),xr=i.forwardRef(function(o,r){const n=Ut({name:"MuiSwipeableDrawer",props:o}),c=pt(),u={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{anchor:p="left",disableBackdropTransition:d=!1,disableDiscovery:a=!1,disableSwipeToOpen:g=hr,hideBackdrop:S,hysteresis:v=.52,allowSwipeInChildren:C=!1,minFlingVelocity:T=450,ModalProps:{BackdropProps:A}={},onClose:I,onOpen:w,open:f=!1,PaperProps:N={},SwipeAreaProps:H,swipeAreaWidth:W=20,transitionDuration:O=u,variant:M="temporary"}=n,x=V(n.ModalProps,ur),J=V(n,fr),[F,le]=i.useState(!1),l=i.useRef({isSwiping:null}),ge=i.useRef(),ce=i.useRef(),R=i.useRef(),y=Et(N.ref,R),ne=i.useRef(!1),de=i.useRef();ct(()=>{de.current=null},[f]);const pe=i.useCallback((h,E={})=>{const{mode:j=null,changeTransition:D=!0}=E,L=Re(c,p),P=["right","bottom"].indexOf(L)!==-1?1:-1,Z=xe(p),B=Z?`translate(${P*h}px, 0)`:`translate(0, ${P*h}px)`,oe=R.current.style;oe.webkitTransform=B,oe.transform=B;let U="";if(j&&(U=c.transitions.create("all",_t({easing:void 0,style:void 0,timeout:O},{mode:j}))),D&&(oe.webkitTransition=U,oe.transition=U),!d&&!S){const Y=ce.current.style;Y.opacity=1-h/ye(Z,R.current),D&&(Y.webkitTransition=U,Y.transition=U)}},[p,d,S,c,O]),ue=Ee(h=>{if(!ne.current)return;if(re=null,ne.current=!1,$e.flushSync(()=>{le(!1)}),!l.current.isSwiping){l.current.isSwiping=null;return}l.current.isSwiping=null;const E=Re(c,p),j=xe(p);let D;j?D=Xe(E,h.changedTouches,De(h.currentTarget)):D=Ge(E,h.changedTouches,Le(h.currentTarget));const L=j?l.current.startX:l.current.startY,P=ye(j,R.current),Z=lt(D,L,f,P),B=Z/P;if(Math.abs(l.current.velocity)>T&&(de.current=Math.abs((P-Z)/l.current.velocity)*1e3),f){l.current.velocity>T||B>v?I():pe(0,{mode:"exit"});return}l.current.velocity<-T||1-B>v?w():pe(ye(j,R.current),{mode:"enter"})}),ve=(h=!1)=>{if(!F){(h||!(a&&C))&&$e.flushSync(()=>{le(!0)});const E=xe(p);!f&&R.current&&pe(ye(E,R.current)+(a?15:-qe),{changeTransition:!1}),l.current.velocity=0,l.current.lastTime=null,l.current.lastTranslate=null,l.current.paperHit=!1,ne.current=!0}},Se=Ee(h=>{if(!R.current||!ne.current||re!==null&&re!==l.current)return;ve(!0);const E=Re(c,p),j=xe(p),D=Xe(E,h.touches,De(h.currentTarget)),L=Ge(E,h.touches,Le(h.currentTarget));if(f&&R.current.contains(h.target)&&re===null){const U=mr(h.target,R.current);if(gr({domTreeShapes:U,start:j?l.current.startX:l.current.startY,current:j?D:L,anchor:p})){re=!0;return}re=l.current}if(l.current.isSwiping==null){const U=Math.abs(D-l.current.startX),Y=Math.abs(L-l.current.startY),fe=j?U>Y&&U>Ie:Y>U&&Y>Ie;if(fe&&h.cancelable&&h.preventDefault(),fe===!0||(j?Y>Ie:U>Ie)){if(l.current.isSwiping=fe,!fe){ue(h);return}l.current.startX=D,l.current.startY=L,!a&&!f&&(j?l.current.startX-=qe:l.current.startY-=qe)}}if(!l.current.isSwiping)return;const P=ye(j,R.current);let Z=j?l.current.startX:l.current.startY;f&&!l.current.paperHit&&(Z=Math.min(Z,P));const B=lt(j?D:L,Z,f,P);if(f)if(l.current.paperHit)B===0&&(l.current.startX=D,l.current.startY=L);else if(j?D<P:L<P)l.current.paperHit=!0,l.current.startX=D,l.current.startY=L;else return;l.current.lastTranslate===null&&(l.current.lastTranslate=B,l.current.lastTime=performance.now()+1);const oe=(B-l.current.lastTranslate)/(performance.now()-l.current.lastTime)*1e3;l.current.velocity=l.current.velocity*.4+oe*.6,l.current.lastTranslate=B,l.current.lastTime=performance.now(),h.cancelable&&h.preventDefault(),pe(B)}),Ce=Ee(h=>{if(h.defaultPrevented||h.defaultMuiPrevented||f&&(S||!ce.current.contains(h.target))&&!R.current.contains(h.target))return;const E=Re(c,p),j=xe(p),D=Xe(E,h.touches,De(h.currentTarget)),L=Ge(E,h.touches,Le(h.currentTarget));if(!f){var P;if(g||!(h.target===ge.current||(P=R.current)!=null&&P.contains(h.target)&&(typeof C=="function"?C(h,ge.current,R.current):C)))return;if(j){if(D>W)return}else if(L>W)return}h.defaultMuiPrevented=!0,re=null,l.current.startX=D,l.current.startY=L,ve()});return i.useEffect(()=>{if(M==="temporary"){const h=De(R.current);return h.addEventListener("touchstart",Ce),h.addEventListener("touchmove",Se,{passive:!f}),h.addEventListener("touchend",ue),()=>{h.removeEventListener("touchstart",Ce),h.removeEventListener("touchmove",Se,{passive:!f}),h.removeEventListener("touchend",ue)}}},[M,f,Ce,Se,ue]),i.useEffect(()=>()=>{re===l.current&&(re=null)},[]),i.useEffect(()=>{f||le(!1)},[f]),t.jsxs(i.Fragment,{children:[t.jsx(Vt,m({open:M==="temporary"&&F?!0:f,variant:M,ModalProps:m({BackdropProps:m({},A,{ref:ce})},M==="temporary"&&{keepMounted:!0},x),hideBackdrop:S,PaperProps:m({},N,{style:m({pointerEvents:M==="temporary"&&!f&&!C?"none":""},N.style),ref:y}),anchor:p,transitionDuration:de.current||O,onClose:I,ref:r},J)),!g&&M==="temporary"&&t.jsx(Co,{children:t.jsx(pr,m({anchor:p,ref:ge,width:W},H))})]})}),br=xr;/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vr=Ae("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qe=Ae("outline","edit-circle","IconEditCircle",[["path",{d:"M12 15l8.385 -8.415a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3z",key:"svg-0"}],["path",{d:"M16 5l3 3",key:"svg-1"}],["path",{d:"M9 7.07a7 7 0 0 0 1 13.93a7 7 0 0 0 6.929 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sr=Ae("outline","row-insert-top","IconRowInsertTop",[["path",{d:"M4 18v-4a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 9v-4",key:"svg-1"}],["path",{d:"M10 7l4 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cr=Ae("outline","square-rounded-chevrons-right","IconSquareRoundedChevronsRight",[["path",{d:"M9 9l3 3l-3 3",key:"svg-0"}],["path",{d:"M13 9l3 3l-3 3",key:"svg-1"}],["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-2"}]]);const yr=i.createContext({}),we=yr;function jr(e){return X("MuiTimeline",e)}G("MuiTimeline",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function ae(e){return e==="alternate-reverse"?"positionAlternateReverse":`position${be(e)}`}const wr=["position","className"],Rr=e=>{const{position:o,classes:r}=e,n={root:["root",o&&ae(o)]};return K(n,jr,r)},Dr=k("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,r.position&&o[ae(r.position)]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),Tr=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimeline"}),{position:c="right",className:u}=n,p=V(n,wr),d=m({},n,{position:c}),a=Rr(d),g=i.useMemo(()=>({position:c}),[c]);return t.jsx(we.Provider,{value:g,children:t.jsx(Dr,m({className:z(a.root,u),ownerState:d,ref:r},p))})}),Mr=Tr;function kr(e){return X("MuiTimelineConnector",e)}G("MuiTimelineConnector",["root"]);const Ir=["className"],Lr=e=>{const{classes:o}=e;return K({root:["root"]},kr,o)},Pr=k("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),$r=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineConnector"}),{className:c}=n,u=V(n,Ir),p=n,d=Lr(p);return t.jsx(Pr,m({className:z(d.root,c),ownerState:p,ref:r},u))}),Ar=$r;function Nr(e){return X("MuiTimelineContent",e)}const Hr=G("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),Or=Hr,Ur=["className"],Er=e=>{const{position:o,classes:r}=e,n={root:["root",ae(o)]};return K(n,Nr,r)},_r=k(me,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[ae(r.position)]]}})(({ownerState:e})=>m({flex:1,padding:"6px 16px",textAlign:"left"},e.position==="left"&&{textAlign:"right"})),Vr=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineContent"}),{className:c}=n,u=V(n,Ur),{position:p}=i.useContext(we),d=m({},n,{position:p||"right"}),a=Er(d);return t.jsx(_r,m({component:"div",className:z(a.root,c),ownerState:d,ref:r},u))}),Wr=Vr;function zr(e){return X("MuiTimelineDot",e)}G("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const Fr=["className","color","variant"],Br=e=>{const{color:o,variant:r,classes:n}=e,c={root:["root",r,o!=="inherit"&&`${r}${be(o)}`]};return K(c,zr,n)},Yr=k("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[r.color!=="inherit"&&`${r.variant}${be(r.color)}`],o[r.variant]]}})(({ownerState:e,theme:o})=>m({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(o.vars||o).shadows[1],margin:"11.5px 0"},e.variant==="filled"&&m({borderColor:"transparent"},e.color!=="inherit"&&m({},e.color==="grey"?{color:(o.vars||o).palette.grey[50],backgroundColor:(o.vars||o).palette.grey[400]}:{color:(o.vars||o).palette[e.color].contrastText,backgroundColor:(o.vars||o).palette[e.color].main})),e.variant==="outlined"&&m({boxShadow:"none",backgroundColor:"transparent"},e.color!=="inherit"&&m({},e.color==="grey"?{borderColor:(o.vars||o).palette.grey[400]}:{borderColor:(o.vars||o).palette[e.color].main})))),qr=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineDot"}),{className:c,color:u="grey",variant:p="filled"}=n,d=V(n,Fr),a=m({},n,{color:u,variant:p}),g=Br(a);return t.jsx(Yr,m({className:z(g.root,c),ownerState:a,ref:r},d))}),Xr=qr;function Gr(e){return X("MuiTimelineOppositeContent",e)}const Qr=G("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),yt=Qr,Kr=["className"],Jr=e=>{const{position:o,classes:r}=e,n={root:["root",ae(o)]};return K(n,Gr,r)},Zr=k(me,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[ae(r.position)]]}})(({ownerState:e})=>m({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},e.position==="left"&&{textAlign:"left"})),jt=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineOppositeContent"}),{className:c}=n,u=V(n,Kr),{position:p}=i.useContext(we),d=m({},n,{position:p||"left"}),a=Jr(d);return t.jsx(Zr,m({component:"div",className:z(a.root,c),ownerState:d,ref:r},u))});jt.muiName="TimelineOppositeContent";const en=jt;function tn(e){return X("MuiTimelineItem",e)}G("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const on=["position","className"],rn=e=>{const{position:o,classes:r,hasOppositeContent:n}=e,c={root:["root",ae(o),!n&&"missingOppositeContent"]};return K(c,tn,r)},nn=k("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:r}=e;return[o.root,o[ae(r.position)]]}})(({ownerState:e})=>m({listStyle:"none",display:"flex",position:"relative",minHeight:70},e.position==="left"&&{flexDirection:"row-reverse"},(e.position==="alternate"||e.position==="alternate-reverse")&&{[`&:nth-of-type(${e.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${Or.root}`]:{textAlign:"right"},[`& .${yt.root}`]:{textAlign:"left"}}},!e.hasOppositeContent&&{"&:before":{content:'""',flex:1,padding:"6px 16px"}})),sn=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineItem"}),{position:c,className:u}=n,p=V(n,on),{position:d}=i.useContext(we);let a=!1;i.Children.forEach(n.children,C=>{Wt(C,["TimelineOppositeContent"])&&(a=!0)});const g=m({},n,{position:c||d||"right",hasOppositeContent:a}),S=rn(g),v=i.useMemo(()=>({position:g.position}),[g.position]);return t.jsx(we.Provider,{value:v,children:t.jsx(nn,m({className:z(S.root,u),ownerState:g,ref:r},p))})}),an=sn;function ln(e){return X("MuiTimelineSeparator",e)}G("MuiTimelineSeparator",["root"]);const cn=["className"],dn=e=>{const{classes:o}=e;return K({root:["root"]},ln,o)},pn=k("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),un=i.forwardRef(function(o,r){const n=Q({props:o,name:"MuiTimelineSeparator"}),{className:c}=n,u=V(n,cn),p=n,d=dn(p);return t.jsx(pn,m({className:z(d.root,c),ownerState:p,ref:r},u))}),fn=un,Pe=({show:e,dialogProps:o,onCancel:r,apiCall:n,onSelected:c})=>{const u=document.getElementById("portal"),p=ut(f=>f.customization),d=ft(),a=pt(),[g,S]=i.useState(""),[v,C]=i.useState([]),T=se(n),A=f=>{S(f)};function I(f){var N;return((N=f==null?void 0:f.name)==null?void 0:N.toLowerCase().indexOf(g.toLowerCase()))>-1}i.useEffect(()=>{},[o]),i.useEffect(()=>{T.request()},[]),i.useEffect(()=>{T.data&&C(T.data)},[T.data]),i.useEffect(()=>(d(e?{type:zt}:{type:st}),()=>d({type:st})),[e,d]);const w=e?t.jsxs(mt,{fullWidth:!0,maxWidth:"md",open:e,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[t.jsx(gt,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:o.title}),t.jsxs(ht,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[t.jsx(_,{sx:{backgroundColor:p.isDarkMode?a.palette.background.darkPaper:a.palette.background.paper,pt:2,position:"sticky",top:0,zIndex:10},children:t.jsx(so,{sx:{width:"100%",pr:2,pl:2,position:"sticky"},id:"input-search-credential",value:g,onChange:f=>A(f.target.value),placeholder:"Search",startAdornment:t.jsx(it,{position:"start",children:t.jsx(io,{stroke:1.5,size:"1rem",color:a.palette.grey[500]})}),endAdornment:t.jsx(it,{position:"end",sx:{cursor:"pointer",color:a.palette.grey[500],"&:hover":{color:a.palette.grey[900]}},title:"Clear Search",children:t.jsx(Ke,{stroke:1.5,size:"1rem",onClick:()=>A(""),style:{cursor:"pointer"}})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})}),t.jsx(Ft,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2,py:0,zIndex:9,borderRadius:"10px",[a.breakpoints.down("md")]:{maxWidth:370}},children:[...v].filter(I).map(f=>t.jsxs(Bt,{alignItems:"center",onClick:()=>c(f),sx:{border:1,borderColor:a.palette.grey[900]+25,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"start",textAlign:"left",gap:1,p:2},children:[t.jsx("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:t.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:f.name,src:`${je}/api/v1/node-icon/${f.name}`})}),t.jsx(me,{children:f.label})]},f.name))})]})]}):null;return $e.createPortal(w,u)};Pe.propTypes={show:q.bool,dialogProps:q.object,onCancel:q.func,apiCall:q.func,onSelected:q.func};const wt=({show:e,dialogProps:o,onClickFunction:r,onSelectHistoryDetails:n})=>{const c=()=>{},[u,p]=i.useState([]),d=se(po.getUpsertHistory);return i.useEffect(()=>{d.request(o.id)},[o]),i.useEffect(()=>{d.data&&p(d.data)},[d.data]),t.jsx(t.Fragment,{children:t.jsxs(br,{anchor:"right",open:e,onClose:()=>r(),onOpen:c,children:[t.jsx(te,{startIcon:t.jsx(Cr,{}),onClick:()=>r(),children:"Close"}),t.jsx(_,{style:{width:350,margin:10},role:"presentation",onClick:r,children:t.jsxs(Mr,{sx:{[`& .${yt.root}`]:{flex:1}},children:[u&&u.map((a,g)=>t.jsxs(an,{children:[t.jsx(en,{children:St(a.date).format("DD-MMM-YYYY, hh:mm:ss A")}),t.jsxs(fn,{style:{marginTop:5},children:[t.jsx(Xr,{}),g!==u.length-1&&t.jsx(Ar,{})]}),t.jsxs(Wr,{children:[a.result.numAdded!==void 0&&a.result.numAdded>0&&t.jsxs(_,{sx:{fontWeight:500},children:["Added: ",a.result.numAdded]}),a.result.numUpdated!==void 0&&a.result.numUpdated>0&&t.jsxs(_,{sx:{fontWeight:500},children:["Updated: ",a.result.numUpdated]}),a.result.numSkipped!==void 0&&a.result.numSkipped>0&&t.jsxs(_,{sx:{fontWeight:500},children:["Skipped: ",a.result.numSkipped]}),a.result.numDeleted!==void 0&&a.result.numDeleted>0&&t.jsxs(_,{sx:{fontWeight:500},children:["Deleted: ",a.result.numDeleted]}),t.jsx(te,{size:"small",sx:{mt:1,mb:3,borderRadius:"25px"},variant:"outlined",onClick:()=>n(a),children:"Details"})]})]},g)),u.length===0&&t.jsxs(xt,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[t.jsx(_,{sx:{pb:2,height:"auto"},children:t.jsx("img",{style:{objectFit:"cover",height:"10vh",width:"auto"},src:uo,alt:"HistoryEmptySVG"})}),t.jsx("div",{children:"No Upsert History Yet"})]})]})})]})})};wt.propTypes={show:q.bool,dialogProps:q.object,onClickFunction:q.func,onSelectHistoryDetails:q.func};const Rt=({show:e,dialogProps:o,onCancel:r})=>{const n=document.getElementById("portal"),[c,u]=i.useState({}),p=a=>(g,S)=>{const v={...c};v[a]=S,u(v)},d=e?t.jsxs(mt,{fullWidth:!0,maxWidth:"md",open:e,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[t.jsx(gt,{sx:{fontSize:"1rem",p:3,pb:0},id:"alert-dialog-title",children:o.title}),t.jsxs(ht,{sx:{display:"flex",flexDirection:"column",gap:2,maxHeight:"75vh",position:"relative",px:3,pb:3},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:5,marginTop:"10px"},children:[t.jsx(Me,{title:"Added",stat:o.numAdded??0}),t.jsx(Me,{title:"Updated",stat:o.numUpdated??0}),t.jsx(Me,{title:"Skipped",stat:o.numSkipped??0}),t.jsx(Me,{title:"Deleted",stat:o.numDeleted??0})]}),t.jsx("div",{children:t.jsx(Yt,{component:qt,children:t.jsx(Xt,{sx:{minWidth:650},"aria-label":"simple table",children:t.jsx(Gt,{children:t.jsx(Qt,{sx:{"& td":{border:0}},children:t.jsx(Kt,{sx:{pb:0,pt:0},colSpan:6,children:t.jsx(_,{sx:{mt:1,mb:2},children:(o.flowData??[]).map((a,g)=>t.jsxs(mo,{expanded:c[a.id]||!1,onChange:p(a.id),disableGutters:!0,children:[t.jsx(go,{expandIcon:t.jsx(ho,{}),"aria-controls":`nodes-accordian-${a.name}`,id:`nodes-accordian-header-${a.name}`,children:t.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[t.jsx("div",{style:{width:40,height:40,marginRight:10,borderRadius:"50%",backgroundColor:"white"},children:t.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:a.name,src:`${je}/api/v1/node-icon/${a.name}`})}),t.jsx(me,{variant:"h5",children:a.label}),t.jsx("div",{style:{display:"flex",flexDirection:"row",width:"max-content",borderRadius:15,background:"rgb(254,252,191)",padding:5,paddingLeft:10,paddingRight:10,marginLeft:10},children:t.jsx("span",{style:{color:"rgb(116,66,16)",fontSize:"0.825rem"},children:a.id})})]})}),t.jsx(xo,{children:a.paramValues[0]&&t.jsx(bo,{sx:{minWidth:150},rows:a.paramValues,columns:Object.keys(a.paramValues[0])})})]},g))})})})})})})})]})]}):null;return $e.createPortal(d,n)};Rt.propTypes={show:q.bool,dialogProps:q.object,onCancel:q.func};var Ze={},mn=vt;Object.defineProperty(Ze,"__esModule",{value:!0});var Dt=Ze.default=void 0,gn=mn(bt()),hn=t,xn=(0,gn.default)((0,hn.jsx)("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage");Dt=Ze.default=xn;var et={},bn=vt;Object.defineProperty(et,"__esModule",{value:!0});var Tt=et.default=void 0,vn=bn(bt()),Sn=t,Cn=(0,vn.default)((0,Sn.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"Filter1");Tt=et.default=Cn;const yn=["Embeddings","Vector Store","Record Manager"],us=()=>{var nt;const e=Jt(),o=ft();Zt();const r=ut(s=>s.customization),{storeId:n,docId:c}=eo(),u=(...s)=>o(oo(...s)),p=(...s)=>o(ro(...s)),d=se(he.getSpecificDocumentStore),a=se(he.insertIntoVectorStore),g=se(he.saveVectorStoreConfig),S=se(ze.getSpecificNode),v=se(ze.getSpecificNode),C=se(ze.getSpecificNode),[T,A]=i.useState(null),[I,w]=i.useState(!0),[f,N]=i.useState({}),[H,W]=i.useState({}),[O,M]=i.useState(!1),[x,J]=i.useState({}),[F,le]=i.useState(!1),[l,ge]=i.useState({}),[ce,R]=i.useState(!1),[y,ne]=i.useState({}),[de,pe]=i.useState(!1),[ue,ve]=i.useState(!1),[Se,Ce]=i.useState({}),[h,E]=i.useState(!1),[j,D]=i.useState({}),[L,P]=i.useState(!1),[Z,B]=i.useState({}),oe=s=>{const b=_e.cloneDeep(Ve(s,Fe()));!O&&f.embeddingConfig&&(b.inputs=f.embeddingConfig.config,b.credential=f.embeddingConfig.config.credential),J(b),M(!1)},U=()=>{W({title:"Select Embeddings Provider"}),M(!0)},Y=s=>{const b=_e.cloneDeep(Ve(s,Fe()));b.inputAnchors.find(Ue=>Ue.name==="recordManager")?pe(!1):(pe(!0),ne({})),!F&&f.vectorStoreConfig&&(b.inputs=f.vectorStoreConfig.config,b.credential=f.vectorStoreConfig.config.credential),ge(b),le(!1)},fe=()=>{W({title:"Select a Vector Store Provider"}),le(!0)},tt=s=>{const b=_e.cloneDeep(Ve(s,Fe()));!ce&&f.recordManagerConfig&&(b.inputs=f.recordManagerConfig.config,b.credential=f.recordManagerConfig.config.credential),ne(b),R(!1)},ot=()=>{W({title:"Select a Record Manager"}),R(!0)},Mt=()=>{D({id:n}),E(!0)},kt=s=>{const b={title:St(s.date).format("DD-MMM-YYYY, hh:mm:ss A"),numAdded:s.result.numAdded,numUpdated:s.result.numUpdated,numSkipped:s.result.numSkipped,numDeleted:s.result.numDeleted,flowData:s.flowData};B(b),P(!0)},It=()=>{let s=!0;const b=((l==null?void 0:l.inputParams)??[]).filter($=>!$.hidden);for(const $ of b)if(!$.optional&&(!l.inputs[$.name]||!l.credential)){if($.type==="credential"&&!l.credential){s=!1;break}else if($.type!=="credential"&&!l.inputs[$.name]){s=!1;break}}const Ue=((x==null?void 0:x.inputParams)??[]).filter($=>!$.hidden);for(const $ of Ue)if(!$.optional&&(!x.inputs[$.name]||!x.credential)){if($.type==="credential"&&!x.credential){s=!1;break}else if($.type!=="credential"&&!x.inputs[$.name]){s=!1;break}}return s||u({message:"Please fill in all mandatory fields.",options:{key:new Date().getTime()+Math.random(),variant:"warning",action:$=>t.jsx(te,{style:{color:"white"},onClick:()=>p($),children:t.jsx(Ke,{})})}}),s},rt=()=>{const s={storeId:n,docId:c};return x.inputs?(s.embeddingConfig={},s.embeddingName=x.name,Object.keys(x.inputs).map(b=>{b==="FLOWISE_CREDENTIAL_ID"?s.embeddingConfig.credential=x.inputs[b]:s.embeddingConfig[b]=x.inputs[b]})):(s.embeddingConfig=null,s.embeddingName=""),l.inputs?(s.vectorStoreConfig={},s.vectorStoreName=l.name,Object.keys(l.inputs).map(b=>{b==="FLOWISE_CREDENTIAL_ID"?s.vectorStoreConfig.credential=l.inputs[b]:s.vectorStoreConfig[b]=l.inputs[b]})):(s.vectorStoreConfig=null,s.vectorStoreName=""),y.inputs?(s.recordManagerConfig={},s.recordManagerName=y.name,Object.keys(y.inputs).map(b=>{b==="FLOWISE_CREDENTIAL_ID"?s.recordManagerConfig.credential=y.inputs[b]:s.recordManagerConfig[b]=y.inputs[b]})):(s.recordManagerConfig=null,s.recordManagerName=""),s},Lt=()=>{if(It()){w(!0);const s=rt();a.request(s)}},Pt=()=>{w(!0);const s=rt();g.request(s)},$t=()=>{J({}),ge({}),ne({})},At=()=>y&&Object.keys(y).length>0?3:l&&Object.keys(l).length>0?2:x&&Object.keys(x).length>0?1:0,Nt=()=>t.jsx(_,{sx:{width:"100%"},children:t.jsx(ar,{activeStep:At(),alternativeLabel:!0,children:yn.map(s=>t.jsx(ko,{children:t.jsx(qo,{children:s})},s))})}),He=()=>Object.keys(l).length===0||de,Oe=()=>Object.keys(x).length===0;return i.useEffect(()=>{g.data&&(w(!1),u({message:"Configuration saved successfully",options:{key:new Date().getTime()+Math.random(),variant:"success",action:s=>t.jsx(te,{style:{color:"white"},onClick:()=>p(s),children:t.jsx(Ke,{})})}}))},[g.data]),i.useEffect(()=>{a.data&&(w(!1),ve(!0),Ce({...a.data,goToRetrievalQuery:!0}))},[a.data]),i.useEffect(()=>{a.error&&(w(!1),A(a.error))},[a.error]),i.useEffect(()=>{g.error&&(w(!1),A(g.error))},[g.error]),i.useEffect(()=>{d.request(n)},[]),i.useEffect(()=>{if(d.data){const s=d.data;N(s),s.embeddingConfig&&S.request(s.embeddingConfig.name),s.vectorStoreConfig&&v.request(s.vectorStoreConfig.name),s.recordManagerConfig&&C.request(s.recordManagerConfig.name),w(!1)}},[d.data]),i.useEffect(()=>{if(S.data){const s=S.data;oe(s)}},[S.data]),i.useEffect(()=>{if(v.data){const s=v.data;Y(s)}},[v.data]),i.useEffect(()=>{if(C.data){const s=C.data;tt(s)}},[C.data]),i.useEffect(()=>{d.error&&A(d.error)},[d.error]),t.jsxs(t.Fragment,{children:[t.jsx(to,{children:T?t.jsx(co,{error:T}):t.jsxs(t.Fragment,{children:[!n&&t.jsx("div",{}),n&&t.jsxs(xt,{flexDirection:"column",sx:{gap:3},children:[t.jsxs(ao,{isBackButton:!0,search:!1,title:(nt=d.data)==null?void 0:nt.name,description:"Configure Embeddings, Vector Store and Record Manager",onBack:()=>e(-1),children:[(Object.keys(x).length>0||Object.keys(l).length>0)&&t.jsx(te,{variant:"outlined",color:"error",sx:{borderRadius:2,height:"100%"},startIcon:t.jsx(vo,{}),onClick:()=>$t(),children:"Reset"}),(Object.keys(x).length>0||Object.keys(l).length>0)&&t.jsx(te,{variant:"outlined",color:"secondary",sx:{borderRadius:2,height:"100%"},startIcon:t.jsx(So,{}),onClick:()=>Pt(),children:"Save Config"}),Object.keys(x).length>0&&Object.keys(l).length>0&&t.jsx(te,{variant:"contained",sx:{borderRadius:2,height:"100%",backgroundImage:"linear-gradient(to right, #13547a, #2f9e91)","&:hover":{backgroundImage:"linear-gradient(to right, #0b3d5b, #1a8377)"}},startIcon:t.jsx(Sr,{}),onClick:()=>Lt(),children:"Upsert"}),t.jsx(Te,{onClick:Mt,size:"small",color:"inherit",title:"Upsert History",children:t.jsx(vr,{})})]}),t.jsx(Nt,{}),t.jsxs(ee,{container:!0,spacing:1,children:[t.jsx(ee,{item:!0,xs:12,sm:4,md:4,children:Object.keys(x).length===0?t.jsx(te,{onClick:U,fullWidth:!0,startIcon:t.jsx(ke,{style:{background:"transparent",height:32,width:32}}),sx:{color:r!=null&&r.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #e654bc, #4b86e7)":"linear-gradient(to right, #fadef2, #cfdcf1)","&:hover":{backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #de32ac, #2d73e7)":"linear-gradient(to right, #f6c2e7, #b4cbf1)"}},children:"Select Embeddings"}):t.jsx(_,{children:t.jsx(ee,{container:!0,spacing:"2",children:t.jsx(ee,{item:!0,xs:12,md:12,lg:12,sm:12,children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[t.jsxs(_,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[t.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:x.label?t.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:x.label??"embeddings",src:`${je}/api/v1/node-icon/${x==null?void 0:x.name}`}):t.jsx(ke,{color:"black"})}),t.jsx(me,{sx:{ml:2},variant:"h3",children:x.label}),t.jsx("div",{style:{flex:1}}),t.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(x).length>0&&t.jsx(t.Fragment,{children:t.jsx(Te,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:U,children:t.jsx(Qe,{})})})})]}),x&&Object.keys(x).length>0&&(x.inputParams??[]).filter(s=>!s.hidden).map((s,b)=>t.jsx(We,{data:x,inputParam:s,isAdditionalParams:s.additionalParams},b))]})})})})}),t.jsx(ee,{item:!0,xs:12,sm:4,md:4,children:Object.keys(l).length===0?t.jsx(te,{onClick:fe,fullWidth:!0,startIcon:t.jsx(Dt,{style:{background:"transparent",height:32,width:32}}),sx:{color:r!=null&&r.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:Oe()?.7:1,boxShadow:Oe()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #4d8ef1, #f1de5c)":"linear-gradient(to right, #b9d0f4, #fef9d7)","&:hover":{backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #2576f2, #f0d72e)":"linear-gradient(to right, #9cbdf2, #fcf3b6)"}},disabled:Oe(),children:"Select Vector Store"}):t.jsx(_,{children:t.jsx(ee,{container:!0,spacing:"2",children:t.jsx(ee,{item:!0,xs:12,md:12,lg:12,sm:12,children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[t.jsxs(_,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[t.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:l.label?t.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:l.label??"embeddings",src:`${je}/api/v1/node-icon/${l==null?void 0:l.name}`}):t.jsx(ke,{color:"black"})}),t.jsx(me,{sx:{ml:2},variant:"h3",children:l.label}),t.jsx("div",{style:{flex:1}}),t.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(l).length>0&&t.jsx(t.Fragment,{children:t.jsx(Te,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:fe,children:t.jsx(Qe,{})})})})]}),l&&Object.keys(l).length>0&&(l.inputParams??[]).filter(s=>!s.hidden).map((s,b)=>t.jsx(We,{data:l,inputParam:s,isAdditionalParams:s.additionalParams},b))]})})})})}),t.jsx(ee,{item:!0,xs:12,sm:4,md:4,children:Object.keys(y).length===0?t.jsx(te,{onClick:ot,fullWidth:!0,startIcon:de?t.jsx(t.Fragment,{}):t.jsx(Tt,{style:{background:"transparent",height:32,width:32}}),sx:{color:r!=null&&r.isDarkMode?"white":"inherit",borderRadius:"10px",minHeight:"200px",opacity:He()?.7:1,boxShadow:He()?"none":"0 2px 14px 0 rgb(32 40 45 / 20%)",backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #f5db3f, #42daa7)":"linear-gradient(to right, #f9f1c0, #c7f1e3)","&:hover":{backgroundImage:r!=null&&r.isDarkMode?"linear-gradient(to right, #d9c238, #3dc295)":"linear-gradient(to right, #f6e99b, #a0f2d7)"}},disabled:He(),children:de?"Record Manager is not applicable for selected Vector Store":"Select Record Manager"}):t.jsx(_,{children:t.jsx(ee,{container:!0,spacing:"2",children:t.jsx(ee,{item:!0,xs:12,md:12,lg:12,sm:12,children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",paddingRight:15},children:[t.jsxs(_,{sx:{display:"flex",alignItems:"center",flexDirection:"row",p:1},children:[t.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 25%)"},children:y.label?t.jsx("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:y.label??"embeddings",src:`${je}/api/v1/node-icon/${y==null?void 0:y.name}`}):t.jsx(ke,{color:"black"})}),t.jsx(me,{sx:{ml:2},variant:"h3",children:y.label}),t.jsx("div",{style:{flex:1}}),t.jsx("div",{style:{display:"flex",alignContent:"center",flexDirection:"row"},children:Object.keys(y).length>0&&t.jsx(t.Fragment,{children:t.jsx(Te,{variant:"outlined",sx:{ml:1},color:"secondary",onClick:ot,children:t.jsx(Qe,{})})})})]}),y&&Object.keys(y).length>0&&(y.inputParams??[]).filter(s=>!s.hidden).map((s,b)=>t.jsx(t.Fragment,{children:t.jsx(We,{data:y,inputParam:s,isAdditionalParams:s.additionalParams},b)}))]})})})})})]})]})]})}),O&&t.jsx(Pe,{show:O,dialogProps:H,onCancel:()=>M(!1),apiCall:he.getEmbeddingProviders,onSelected:oe}),F&&t.jsx(Pe,{show:F,dialogProps:H,onCancel:()=>le(!1),apiCall:he.getVectorStoreProviders,onSelected:Y}),ce&&t.jsx(Pe,{show:ce,dialogProps:H,onCancel:()=>R(!1),apiCall:he.getRecordManagerProviders,onSelected:tt}),ue&&t.jsx(fo,{show:ue,dialogProps:Se,onCancel:()=>{ve(!1)},onGoToRetrievalQuery:()=>e("/document-stores/query/"+n)}),h&&t.jsx(wt,{show:h,dialogProps:j,onClickFunction:()=>E(!1),onSelectHistoryDetails:kt}),L&&t.jsx(Rt,{show:L,dialogProps:Z,onCancel:()=>P(!1)}),t.jsx(no,{}),I&&t.jsx(lo,{open:I})]})};export{us as default};
