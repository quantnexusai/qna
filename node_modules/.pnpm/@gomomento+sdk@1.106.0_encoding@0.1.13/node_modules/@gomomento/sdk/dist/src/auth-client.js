"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AuthClient = void 0;
const internal_auth_client_1 = require("./internal/internal-auth-client");
const AbstractAuthClient_1 = require("@gomomento/sdk-core/dist/src/internal/clients/auth/AbstractAuthClient");
const sdk_core_1 = require("@gomomento/sdk-core");
const _1 = require(".");
class AuthClient extends AbstractAuthClient_1.AbstractAuthClient {
    constructor(props) {
        var _a, _b;
        const allProps = {
            ...props,
            configuration: (_a = props === null || props === void 0 ? void 0 : props.configuration) !== null && _a !== void 0 ? _a : getDefaultAuthClientConfiguration(),
            credentialProvider: (_b = props === null || props === void 0 ? void 0 : props.credentialProvider) !== null && _b !== void 0 ? _b : (0, sdk_core_1.getDefaultCredentialProvider)(),
        };
        const authClient = new internal_auth_client_1.InternalAuthClient(allProps);
        super({ createAuthClient: () => authClient });
    }
}
exports.AuthClient = AuthClient;
function getDefaultAuthClientConfiguration() {
    const config = _1.AuthClientConfigurations.Default.latest();
    const logger = config.getLoggerFactory().getLogger('AuthClient');
    logger.info('No configuration provided to AuthClient. Using latest "Default" configuration, suitable for development. For production use, consider specifying an explicit configuration.');
    return config;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aC1jbGllbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXV0aC1jbGllbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMEVBQW1FO0FBRW5FLDhHQUF5RztBQUd6RyxrREFBaUU7QUFDakUsd0JBQW9FO0FBRXBFLE1BQWEsVUFBVyxTQUFRLHVDQUFrQjtJQUNoRCxZQUFZLEtBQXVCOztRQUNqQyxNQUFNLFFBQVEsR0FBdUI7WUFDbkMsR0FBRyxLQUFLO1lBQ1IsYUFBYSxFQUNYLE1BQUEsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLGFBQWEsbUNBQUksaUNBQWlDLEVBQUU7WUFDN0Qsa0JBQWtCLEVBQ2hCLE1BQUEsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLGtCQUFrQixtQ0FBSSxJQUFBLHVDQUE0QixHQUFFO1NBQzlELENBQUM7UUFDRixNQUFNLFVBQVUsR0FBRyxJQUFJLHlDQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXBELEtBQUssQ0FBQyxFQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsRUFBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztDQUNGO0FBYkQsZ0NBYUM7QUFFRCxTQUFTLGlDQUFpQztJQUN4QyxNQUFNLE1BQU0sR0FBRywyQkFBd0IsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDekQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sQ0FBQyxJQUFJLENBQ1QsNktBQTZLLENBQzlLLENBQUM7SUFDRixPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbnRlcm5hbEF1dGhDbGllbnR9IGZyb20gJy4vaW50ZXJuYWwvaW50ZXJuYWwtYXV0aC1jbGllbnQnO1xuaW1wb3J0IHtJQXV0aENsaWVudH0gZnJvbSAnQGdvbW9tZW50by9zZGstY29yZS9kaXN0L3NyYy9jbGllbnRzL0lBdXRoQ2xpZW50JztcbmltcG9ydCB7QWJzdHJhY3RBdXRoQ2xpZW50fSBmcm9tICdAZ29tb21lbnRvL3Nkay1jb3JlL2Rpc3Qvc3JjL2ludGVybmFsL2NsaWVudHMvYXV0aC9BYnN0cmFjdEF1dGhDbGllbnQnO1xuaW1wb3J0IHtBdXRoQ2xpZW50UHJvcHN9IGZyb20gJy4vYXV0aC1jbGllbnQtcHJvcHMnO1xuaW1wb3J0IHtBdXRoQ2xpZW50QWxsUHJvcHN9IGZyb20gJy4vaW50ZXJuYWwvYXV0aC1jbGllbnQtYWxsLXByb3BzJztcbmltcG9ydCB7Z2V0RGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcn0gZnJvbSAnQGdvbW9tZW50by9zZGstY29yZSc7XG5pbXBvcnQge0F1dGhDbGllbnRDb25maWd1cmF0aW9uLCBBdXRoQ2xpZW50Q29uZmlndXJhdGlvbnN9IGZyb20gJy4nO1xuXG5leHBvcnQgY2xhc3MgQXV0aENsaWVudCBleHRlbmRzIEFic3RyYWN0QXV0aENsaWVudCBpbXBsZW1lbnRzIElBdXRoQ2xpZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHM/OiBBdXRoQ2xpZW50UHJvcHMpIHtcbiAgICBjb25zdCBhbGxQcm9wczogQXV0aENsaWVudEFsbFByb3BzID0ge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBjb25maWd1cmF0aW9uOlxuICAgICAgICBwcm9wcz8uY29uZmlndXJhdGlvbiA/PyBnZXREZWZhdWx0QXV0aENsaWVudENvbmZpZ3VyYXRpb24oKSxcbiAgICAgIGNyZWRlbnRpYWxQcm92aWRlcjpcbiAgICAgICAgcHJvcHM/LmNyZWRlbnRpYWxQcm92aWRlciA/PyBnZXREZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyKCksXG4gICAgfTtcbiAgICBjb25zdCBhdXRoQ2xpZW50ID0gbmV3IEludGVybmFsQXV0aENsaWVudChhbGxQcm9wcyk7XG5cbiAgICBzdXBlcih7Y3JlYXRlQXV0aENsaWVudDogKCkgPT4gYXV0aENsaWVudH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBdXRoQ2xpZW50Q29uZmlndXJhdGlvbigpOiBBdXRoQ2xpZW50Q29uZmlndXJhdGlvbiB7XG4gIGNvbnN0IGNvbmZpZyA9IEF1dGhDbGllbnRDb25maWd1cmF0aW9ucy5EZWZhdWx0LmxhdGVzdCgpO1xuICBjb25zdCBsb2dnZXIgPSBjb25maWcuZ2V0TG9nZ2VyRmFjdG9yeSgpLmdldExvZ2dlcignQXV0aENsaWVudCcpO1xuICBsb2dnZXIuaW5mbyhcbiAgICAnTm8gY29uZmlndXJhdGlvbiBwcm92aWRlZCB0byBBdXRoQ2xpZW50LiBVc2luZyBsYXRlc3QgXCJEZWZhdWx0XCIgY29uZmlndXJhdGlvbiwgc3VpdGFibGUgZm9yIGRldmVsb3BtZW50LiBGb3IgcHJvZHVjdGlvbiB1c2UsIGNvbnNpZGVyIHNwZWNpZnlpbmcgYW4gZXhwbGljaXQgY29uZmlndXJhdGlvbi4nXG4gICk7XG4gIHJldHVybiBjb25maWc7XG59XG4iXX0=