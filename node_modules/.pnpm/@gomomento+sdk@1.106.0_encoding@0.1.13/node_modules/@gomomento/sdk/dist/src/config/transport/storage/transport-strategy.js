"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StaticStorageTransportStrategy = exports.StaticStorageGrpcConfiguration = void 0;
class StaticStorageGrpcConfiguration {
    constructor(props) {
        this.deadlineMillis = props.deadlineMillis;
    }
    getDeadlineMillis() {
        return this.deadlineMillis;
    }
    withDeadlineMillis(deadlineMillis) {
        return new StaticStorageGrpcConfiguration({
            ...this,
            deadlineMillis,
        });
    }
}
exports.StaticStorageGrpcConfiguration = StaticStorageGrpcConfiguration;
class StaticStorageTransportStrategy {
    constructor(props) {
        this.grpcConfig = props.grpcConfiguration;
    }
    getGrpcConfig() {
        return this.grpcConfig;
    }
    withGrpcConfig(grpcConfiguration) {
        return new StaticStorageTransportStrategy({
            ...this,
            grpcConfiguration,
        });
    }
    withClientTimeoutMillis(clientTimeoutMillis) {
        return new StaticStorageTransportStrategy({
            ...this,
            grpcConfiguration: this.grpcConfig.withDeadlineMillis(clientTimeoutMillis),
        });
    }
}
exports.StaticStorageTransportStrategy = StaticStorageTransportStrategy;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNwb3J0LXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbmZpZy90cmFuc3BvcnQvc3RvcmFnZS90cmFuc3BvcnQtc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBdUNBLE1BQWEsOEJBQThCO0lBS3pDLFlBQVksS0FBb0M7UUFDOUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO0lBQzdDLENBQUM7SUFFRCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQztJQUVELGtCQUFrQixDQUFDLGNBQXNCO1FBQ3ZDLE9BQU8sSUFBSSw4QkFBOEIsQ0FBQztZQUN4QyxHQUFHLElBQUk7WUFDUCxjQUFjO1NBQ2YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGO0FBbkJELHdFQW1CQztBQUVELE1BQWEsOEJBQThCO0lBS3pDLFlBQVksS0FBb0M7UUFDOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQUM7SUFDNUMsQ0FBQztJQUVELGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUVELGNBQWMsQ0FDWixpQkFBMkM7UUFFM0MsT0FBTyxJQUFJLDhCQUE4QixDQUFDO1lBQ3hDLEdBQUcsSUFBSTtZQUNQLGlCQUFpQjtTQUNsQixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsdUJBQXVCLENBQ3JCLG1CQUEyQjtRQUUzQixPQUFPLElBQUksOEJBQThCLENBQUM7WUFDeEMsR0FBRyxJQUFJO1lBQ1AsaUJBQWlCLEVBQ2YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxtQkFBbUIsQ0FBQztTQUMxRCxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUEvQkQsd0VBK0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgU3RvcmFnZUdycGNDb25maWd1cmF0aW9uLFxuICBTdG9yYWdlR3JwY0NvbmZpZ3VyYXRpb25Qcm9wcyxcbn0gZnJvbSAnLi9ncnBjLWNvbmZpZ3VyYXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneSB7XG4gIC8qKlxuICAgKiBDb25maWd1cmVzIHRoZSBsb3ctbGV2ZWwgZ1JQQyBzZXR0aW5ncyBmb3IgdGhlIE1vbWVudG8gY2xpZW50J3MgY29tbXVuaWNhdGlvblxuICAgKiB3aXRoIHRoZSBNb21lbnRvIHNlcnZlci5cbiAgICogQHJldHVybnMge1N0b3JhZ2VHcnBjQ29uZmlndXJhdGlvbn1cbiAgICovXG4gIGdldEdycGNDb25maWcoKTogU3RvcmFnZUdycGNDb25maWd1cmF0aW9uO1xuXG4gIC8qKlxuICAgKiBDb3B5IGNvbnN0cnVjdG9yIGZvciBvdmVycmlkaW5nIHRoZSBnUlBDIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHtUb3BpY0dycGNDb25maWd1cmF0aW9ufSBncnBjQ29uZmlnXG4gICAqIEByZXR1cm5zIHtUb3BpY1RyYW5zcG9ydFN0cmF0ZWd5fSBhIG5ldyBTdG9yYWdlVHJhbnNwb3J0U3RyYXRlZ3kgd2l0aCB0aGUgc3BlY2lmaWVkIGdSUEMgY29uZmlnLlxuICAgKi9cbiAgd2l0aEdycGNDb25maWcoXG4gICAgZ3JwY0NvbmZpZzogU3RvcmFnZUdycGNDb25maWd1cmF0aW9uXG4gICk6IFN0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneTtcblxuICAvKipcbiAgICogQ29weSBjb25zdHJ1Y3RvciB0byB1cGRhdGUgdGhlIGNsaWVudC1zaWRlIHRpbWVvdXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFRpbWVvdXRNaWxsaXNcbiAgICogQHJldHVybnMge1N0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneX0gYSBuZXcgU3RvcmFnZVRyYW5zcG9ydFN0cmF0ZWd5IHdpdGggdGhlIHNwZWNpZmllZCBjbGllbnQgdGltZW91dFxuICAgKi9cbiAgd2l0aENsaWVudFRpbWVvdXRNaWxsaXMoXG4gICAgY2xpZW50VGltZW91dE1pbGxpczogbnVtYmVyXG4gICk6IFN0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdG9yYWdlVHJhbnNwb3J0U3RyYXRlZ3lQcm9wcyB7XG4gIC8qKlxuICAgKiBsb3ctbGV2ZWwgZ1JQQyBzZXR0aW5ncyBmb3IgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBNb21lbnRvIHNlcnZlclxuICAgKi9cbiAgZ3JwY0NvbmZpZ3VyYXRpb246IFN0b3JhZ2VHcnBjQ29uZmlndXJhdGlvbjtcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRpY1N0b3JhZ2VHcnBjQ29uZmlndXJhdGlvblxuICBpbXBsZW1lbnRzIFN0b3JhZ2VHcnBjQ29uZmlndXJhdGlvblxue1xuICBwcml2YXRlIHJlYWRvbmx5IGRlYWRsaW5lTWlsbGlzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFN0b3JhZ2VHcnBjQ29uZmlndXJhdGlvblByb3BzKSB7XG4gICAgdGhpcy5kZWFkbGluZU1pbGxpcyA9IHByb3BzLmRlYWRsaW5lTWlsbGlzO1xuICB9XG5cbiAgZ2V0RGVhZGxpbmVNaWxsaXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kZWFkbGluZU1pbGxpcztcbiAgfVxuXG4gIHdpdGhEZWFkbGluZU1pbGxpcyhkZWFkbGluZU1pbGxpczogbnVtYmVyKTogU3RvcmFnZUdycGNDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4gbmV3IFN0YXRpY1N0b3JhZ2VHcnBjQ29uZmlndXJhdGlvbih7XG4gICAgICAuLi50aGlzLFxuICAgICAgZGVhZGxpbmVNaWxsaXMsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXRpY1N0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneVxuICBpbXBsZW1lbnRzIFN0b3JhZ2VUcmFuc3BvcnRTdHJhdGVneVxue1xuICBwcml2YXRlIHJlYWRvbmx5IGdycGNDb25maWc6IFN0b3JhZ2VHcnBjQ29uZmlndXJhdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogU3RvcmFnZVRyYW5zcG9ydFN0cmF0ZWd5UHJvcHMpIHtcbiAgICB0aGlzLmdycGNDb25maWcgPSBwcm9wcy5ncnBjQ29uZmlndXJhdGlvbjtcbiAgfVxuXG4gIGdldEdycGNDb25maWcoKTogU3RvcmFnZUdycGNDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5ncnBjQ29uZmlnO1xuICB9XG5cbiAgd2l0aEdycGNDb25maWcoXG4gICAgZ3JwY0NvbmZpZ3VyYXRpb246IFN0b3JhZ2VHcnBjQ29uZmlndXJhdGlvblxuICApOiBTdG9yYWdlVHJhbnNwb3J0U3RyYXRlZ3kge1xuICAgIHJldHVybiBuZXcgU3RhdGljU3RvcmFnZVRyYW5zcG9ydFN0cmF0ZWd5KHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBncnBjQ29uZmlndXJhdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHdpdGhDbGllbnRUaW1lb3V0TWlsbGlzKFxuICAgIGNsaWVudFRpbWVvdXRNaWxsaXM6IG51bWJlclxuICApOiBTdG9yYWdlVHJhbnNwb3J0U3RyYXRlZ3kge1xuICAgIHJldHVybiBuZXcgU3RhdGljU3RvcmFnZVRyYW5zcG9ydFN0cmF0ZWd5KHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBncnBjQ29uZmlndXJhdGlvbjpcbiAgICAgICAgdGhpcy5ncnBjQ29uZmlnLndpdGhEZWFkbGluZU1pbGxpcyhjbGllbnRUaW1lb3V0TWlsbGlzKSxcbiAgICB9KTtcbiAgfVxufVxuIl19