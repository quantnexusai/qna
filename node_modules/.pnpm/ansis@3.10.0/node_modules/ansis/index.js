"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let{round:e,max:t}=Math,r=e=>{let[,t]=/([a-f\d]{3,6})/i.exec(e)||[],r=t?t.length:0;if(3===r)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6^r)return[0,0,0];let n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]},n=(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:e((t-8)/247*24)+232:16+36*e(t/51)+6*e(r/51)+e(n/51),i=r=>{let n,i,l,s,o;return r<8?30+r:r<16?r-8+90:(r>=232?n=i=l=(10*(r-232)+8)/255:(o=(r-=16)%36,n=(r/36|0)/5,i=(o/6|0)/5,l=o%6/5),s=2*t(n,i,l),s?30+(e(l)<<2|e(i)<<1|e(n))+(2^s?0:60):30)},l=(()=>{let e=e=>l.some((t=>e.test(t))),t=globalThis,r=t.Deno,n=!!r,i=t.process||r||{},l=i.argv||i.args||[],s=i.env||{},o=-1;if(n)try{s=s.toObject()}catch(e){o=0}let a=!!s.PM2_HOME&&!!s.pm_id||s.NEXT_RUNTIME?.includes("edge")||(n?r.isatty(1):!!i.stdout?.isTTY),c="FORCE_COLOR",u=s[c],p=parseInt(u),g=isNaN(p)?"false"===u?0:-1:p,d=c in s&&g||e(/^-{1,2}color=?(true|always)?$/);return d&&(o=g),o<0&&(o=((e,t,r)=>{let{TERM:n,COLORTERM:i}=e;return"truecolor"===i||"24bit"===i?3:"ansi256"===i?2:"ansi"===i||e.TF_BUILD?1:e.TEAMCITY_VERSION?2:e.CI?["GITHUB_ACTIONS","GITEA_ACTIONS"].some((t=>t in e))?3:1:!t||/-mono|dumb/i.test(n)?0:r||/^xterm-(kitty|direct)$/i.test(n)?3:/-256(colou?r)?$/i.test(n)?2:/^(screen|tmux|xterm|vt[1-5][0-9]([0-9])?|ansi)|color|cygwin|linux|mintty|rxvt/i.test(n)?1:3})(s,a,"win32"===(n?r.build.os:i.platform))),!g||s.NO_COLOR||e(/^-{1,2}(no-color|color=(false|never))$/)?0:d&&!o?3:o})(),s=l>0,o="",a={open:o,close:o},c=s?(e,t)=>({open:`[${e}m`,close:`[${t}m`}):()=>a,u=39,p=49,g=(e,t)=>(r,l,s)=>c(((e,t,r)=>i(n(e,t,r)))(r,l,s)+e,t),d=e=>(t,r,i)=>e(n(t,r,i)),f=e=>t=>e(...r(t)),b=(e,t,r)=>c(`38;2;${e};${t};${r}`,u),_=(e,t,r)=>c(`48;2;${e};${t};${r}`,p),m=e=>c(`38;5;${e}`,u),O=e=>c(`48;5;${e}`,p);2===l?(b=d(m),_=d(O)):1===l&&(b=g(0,u),_=g(10,p),m=e=>c(i(e),u),O=e=>c(i(e)+10,p));let y,x={ansi256:m,bgAnsi256:O,fg:m,bg:O,rgb:b,bgRgb:_,hex:f(b),bgHex:f(_),visible:a,reset:c(0,0),bold:c(1,22),dim:c(2,22),italic:c(3,23),underline:c(4,24),inverse:c(7,27),hidden:c(8,28)},$="Bright",h=30;"black,red,green,yellow,blue,magenta,cyan,white".split(",").map((e=>{y="bg"+e[0].toUpperCase()+e.slice(1),x[e]=c(h,u),x[e+$]=c(60+h,u),x[y]=c(h+10,p),x[y+$]=c(70+h++,p)})),x.grey=x.gray=c(90,u),x.bgGrey=x.bgGray=c(100,p),x.strikethrough=x.strike=c(9,29);let T,{create:I,defineProperty:R,setPrototypeOf:v}=Object,C={},E=({_p:e},{open:t,close:r})=>{let n=(e,...i)=>{if(!e){if(t&&t===r)return t;if(null==e||o===e)return o}let l=e.raw?String.raw(e,...i):o+e,s=n._p,{_a:a,_b:c}=s;if(l.includes(""))for(;s;){let e,t=s.close,r=s.open,n=t.length,i=o,a=0;if(n){for(;~(e=l.indexOf(t,a));a=e+n)i+=l.slice(a,e)+r;l=i+l.slice(a)}s=s._p}return l.includes("\n")&&(l=l.replace(/(\r?\n)/g,c+"$1"+a)),a+l+c},i=t,l=r;return e&&(i=e._a+t,l=r+e._b),v(n,T),n._p={open:t,close:r,_a:i,_b:l,_p:e},n.open=i,n.close=l,n};const w=function(){let e={isSupported:()=>s,strip:e=>e.replace(/[Â›][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,o),extend(t){for(let e in t){let n=t[e],i=(typeof n)[0],l="s"===i?b(...r(n)):n;C[e]="f"===i?{get(){return(...e)=>E(this,n(...e))}}:{get(){let t=E(this,l);return R(this,e,{value:t}),t}}}return T=I({},C),v(e,T),e}};return e.extend(x)},M=new w;module.exports=M,module.exports.Ansis=w,M.default=M;
