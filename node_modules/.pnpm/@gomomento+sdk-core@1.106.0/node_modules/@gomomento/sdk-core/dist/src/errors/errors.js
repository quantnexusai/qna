"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnknownServiceError = exports.UnknownError = exports.TimeoutError = exports.ServerUnavailableError = exports.PermissionError = exports.StoreItemNotFoundError = exports.StoreNotFoundError = exports.CacheNotFoundError = exports.LimitExceededError = exports.InvalidArgumentError = exports.InternalServerError = exports.FailedPreconditionError = exports.ConnectionError = exports.CancelledError = exports.BadRequestError = exports.AuthenticationError = exports.StoreAlreadyExistsError = exports.CacheAlreadyExistsError = exports.SdkError = exports.MomentoErrorTransportDetails = exports.MomentoGrpcErrorDetails = exports.MomentoErrorCode = void 0;
var MomentoErrorCode;
(function (MomentoErrorCode) {
    // Invalid argument passed to Momento client
    MomentoErrorCode["INVALID_ARGUMENT_ERROR"] = "INVALID_ARGUMENT_ERROR";
    // Service returned an unknown response
    MomentoErrorCode["UNKNOWN_SERVICE_ERROR"] = "UNKNOWN_SERVICE_ERROR";
    // Cache with specified name already exists
    MomentoErrorCode["CACHE_ALREADY_EXISTS_ERROR"] = "ALREADY_EXISTS_ERROR";
    /** @deprecated use CACHE_ALREADY_EXISTS_ERROR instead */
    MomentoErrorCode["ALREADY_EXISTS_ERROR"] = "ALREADY_EXISTS_ERROR";
    // Store with specified name already exists
    MomentoErrorCode["STORE_ALREADY_EXISTS_ERROR"] = "ALREADY_EXISTS_ERROR";
    // Cache with specified name doesn't exist
    MomentoErrorCode["CACHE_NOT_FOUND_ERROR"] = "NOT_FOUND_ERROR";
    /** @deprecated use CACHE_NOT_FOUND_ERROR instead */
    MomentoErrorCode["NOT_FOUND_ERROR"] = "NOT_FOUND_ERROR";
    // Store with specified name doesn't exist
    MomentoErrorCode["STORE_NOT_FOUND_ERROR"] = "STORE_NOT_FOUND_ERROR";
    // Item with specified key doesn't exist
    MomentoErrorCode["STORE_ITEM_NOT_FOUND_ERROR"] = "STORE_ITEM_NOT_FOUND_ERROR";
    // An unexpected error occurred while trying to fulfill the request
    MomentoErrorCode["INTERNAL_SERVER_ERROR"] = "INTERNAL_SERVER_ERROR";
    // Insufficient permissions to perform operation
    MomentoErrorCode["PERMISSION_ERROR"] = "PERMISSION_ERROR";
    // Invalid authentication credentials to connect to cache service
    MomentoErrorCode["AUTHENTICATION_ERROR"] = "AUTHENTICATION_ERROR";
    // Request was cancelled by the server
    MomentoErrorCode["CANCELLED_ERROR"] = "CANCELLED_ERROR";
    // Error connecting to Momento servers
    MomentoErrorCode["CONNECTION_ERROR"] = "CONNECTION_ERROR";
    // Request rate, bandwidth, or object size exceeded the limits for the account
    MomentoErrorCode["LIMIT_EXCEEDED_ERROR"] = "LIMIT_EXCEEDED_ERROR";
    // Request was invalid
    MomentoErrorCode["BAD_REQUEST_ERROR"] = "BAD_REQUEST_ERROR";
    // Client's configured timeout was exceeded
    MomentoErrorCode["TIMEOUT_ERROR"] = "TIMEOUT_ERROR";
    // Server was unable to handle the request
    MomentoErrorCode["SERVER_UNAVAILABLE"] = "SERVER_UNAVAILABLE";
    // A client resource (most likely memory) was exhausted
    MomentoErrorCode["CLIENT_RESOURCE_EXHAUSTED"] = "CLIENT_RESOURCE_EXHAUSTED";
    // System is not in a state required for the operation's execution
    MomentoErrorCode["FAILED_PRECONDITION_ERROR"] = "FAILED_PRECONDITION_ERROR";
    // Unknown error has occurred
    MomentoErrorCode["UNKNOWN_ERROR"] = "UNKNOWN_ERROR";
})(MomentoErrorCode = exports.MomentoErrorCode || (exports.MomentoErrorCode = {}));
class MomentoGrpcErrorDetails {
    constructor(code, details, metadata) {
        this.code = code;
        this.details = details;
        this.metadata = metadata;
    }
}
exports.MomentoGrpcErrorDetails = MomentoGrpcErrorDetails;
class MomentoErrorTransportDetails {
    constructor(grpc) {
        this.grpc = grpc;
    }
}
exports.MomentoErrorTransportDetails = MomentoErrorTransportDetails;
/**
 * Base class for all errors thrown by the sdk
 */
class SdkError extends Error {
    constructor(message, code = 0, metadata = undefined, stack = undefined) {
        super(message);
        const grpcDetails = new MomentoGrpcErrorDetails(code, message, metadata);
        this._transportDetails = new MomentoErrorTransportDetails(grpcDetails);
        this.stack = stack !== null && stack !== void 0 ? stack : undefined;
    }
    wrappedErrorMessage() {
        return `${this._messageWrapper}: ${this.message}`;
    }
    errorCode() {
        return this._errorCode;
    }
    transportDetails() {
        return this._transportDetails;
    }
}
exports.SdkError = SdkError;
/**
 * Error that occurs when trying to create a cache with the same name as an existing cache. To resolve this error,
 * either delete the existing cache and make a new one, or change the name of the cache you are trying to create to
 * one that doesn't already exist
 */
class CacheAlreadyExistsError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.CACHE_ALREADY_EXISTS_ERROR;
        this._messageWrapper = 'A cache with the specified name already exists.  To resolve this error, either delete the existing cache and make a new one, or use a different name';
    }
}
exports.CacheAlreadyExistsError = CacheAlreadyExistsError;
/**
 * Error that occurs when trying to create a store with the same name as an existing cache. To resolve this error,
 * either delete the existing store and make a new one, or change the name of the store you are trying to create to
 * one that doesn't already exist
 */
class StoreAlreadyExistsError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.STORE_ALREADY_EXISTS_ERROR;
        this._messageWrapper = 'A store with the specified name already exists.  To resolve this error, either delete the existing store and make a new one, or use a different name';
    }
}
exports.StoreAlreadyExistsError = StoreAlreadyExistsError;
/**
 * Error when authentication with Cache Service fails
 */
class AuthenticationError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.AUTHENTICATION_ERROR;
        this._messageWrapper = 'Invalid authentication credentials to connect to cache service';
    }
}
exports.AuthenticationError = AuthenticationError;
/**
 * Error raised in response to an invalid request
 */
class BadRequestError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.BAD_REQUEST_ERROR;
        this._messageWrapper = 'The request was invalid; please contact us at support@momentohq.com';
    }
}
exports.BadRequestError = BadRequestError;
/**
 * Error when an operation with Cache Service was cancelled
 */
class CancelledError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.CANCELLED_ERROR;
        this._messageWrapper = 'The request was cancelled; please contact us if this was unexpected at support@momentohq.com';
    }
}
exports.CancelledError = CancelledError;
/**
 * Error when there's a failure to connect to Momento servers.
 */
class ConnectionError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.CONNECTION_ERROR;
    }
}
exports.ConnectionError = ConnectionError;
/**
 * Error raised when system in not in a state required for the operation's success
 */
class FailedPreconditionError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.FAILED_PRECONDITION_ERROR;
        this._messageWrapper = "System is not in a state required for the operation's execution";
    }
}
exports.FailedPreconditionError = FailedPreconditionError;
/**
 * Cache Service encountered an unexpected exception while trying to fulfill the request
 */
class InternalServerError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.INTERNAL_SERVER_ERROR;
        this._messageWrapper = 'An unexpected error occurred while trying to fulfill the request; please contact us at support@momentohq.com';
    }
}
exports.InternalServerError = InternalServerError;
/**
 * Represents errors thrown when invalid parameters are passed to the Momento Cache
 */
class InvalidArgumentError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.INVALID_ARGUMENT_ERROR;
        this._messageWrapper = 'Invalid argument passed to Momento client';
    }
}
exports.InvalidArgumentError = InvalidArgumentError;
var LimitExceededMessageWrapper;
(function (LimitExceededMessageWrapper) {
    LimitExceededMessageWrapper["TOPIC_SUBSCRIPTIONS_LIMIT_EXCEEDED"] = "Topic subscriptions limit exceeded for this account";
    LimitExceededMessageWrapper["OPERATIONS_RATE_LIMIT_EXCEEDED"] = "Request rate limit exceeded for this account";
    LimitExceededMessageWrapper["THROUGHPUT_RATE_LIMIT_EXCEEDED"] = "Bandwidth limit exceeded for this account";
    LimitExceededMessageWrapper["REQUEST_SIZE_LIMIT_EXCEEDED"] = "Request size limit exceeded for this account";
    LimitExceededMessageWrapper["ITEM_SIZE_LIMIT_EXCEEDED"] = "Item size limit exceeded for this account";
    LimitExceededMessageWrapper["ELEMENT_SIZE_LIMIT_EXCEEDED"] = "Element size limit exceeded for this account";
    LimitExceededMessageWrapper["UNKNOWN_LIMIT_EXCEEDED"] = "Limit exceeded for this account";
})(LimitExceededMessageWrapper || (LimitExceededMessageWrapper = {}));
/**
 * Error when calls are throttled due to request limit rate
 */
class LimitExceededError extends SdkError {
    constructor(message, code = 0, metadata = undefined, stack = undefined, errCause) {
        super(message, code, metadata, stack);
        this._errorCode = MomentoErrorCode.LIMIT_EXCEEDED_ERROR;
        this._messageWrapper = this.determineMessageWrapper();
        this.errCause = errCause;
    }
    determineMessageWrapper() {
        // If provided, we use the `err` metadata value to determine the most
        // appropriate error message to return.
        if (this.errCause !== undefined) {
            switch (this.errCause) {
                case 'topic_subscriptions_limit_exceeded':
                    return LimitExceededMessageWrapper.TOPIC_SUBSCRIPTIONS_LIMIT_EXCEEDED;
                case 'operations_rate_limit_exceeded':
                    return LimitExceededMessageWrapper.OPERATIONS_RATE_LIMIT_EXCEEDED;
                case 'throughput_rate_limit_exceeded':
                    return LimitExceededMessageWrapper.THROUGHPUT_RATE_LIMIT_EXCEEDED;
                case 'request_size_limit_exceeded':
                    return LimitExceededMessageWrapper.REQUEST_SIZE_LIMIT_EXCEEDED;
                case 'item_size_limit_exceeded':
                    return LimitExceededMessageWrapper.ITEM_SIZE_LIMIT_EXCEEDED;
                case 'element_size_limit_exceeded':
                    return LimitExceededMessageWrapper.ELEMENT_SIZE_LIMIT_EXCEEDED;
                default:
                    return LimitExceededMessageWrapper.UNKNOWN_LIMIT_EXCEEDED;
            }
        }
        // If `err` metadata is unavailable, try to use the error details field
        // to return the an appropriate error message.
        if (this._transportDetails.grpc.details !== undefined) {
            const details = this._transportDetails.grpc.details.toLowerCase();
            if (details.includes('subscribers')) {
                return LimitExceededMessageWrapper.TOPIC_SUBSCRIPTIONS_LIMIT_EXCEEDED;
            }
            else if (details.includes('operations')) {
                return LimitExceededMessageWrapper.OPERATIONS_RATE_LIMIT_EXCEEDED;
            }
            else if (details.includes('throughput')) {
                return LimitExceededMessageWrapper.THROUGHPUT_RATE_LIMIT_EXCEEDED;
            }
            else if (details.includes('request limit')) {
                return LimitExceededMessageWrapper.REQUEST_SIZE_LIMIT_EXCEEDED;
            }
            else if (details.includes('item size')) {
                return LimitExceededMessageWrapper.ITEM_SIZE_LIMIT_EXCEEDED;
            }
            else if (details.includes('element size')) {
                return LimitExceededMessageWrapper.ELEMENT_SIZE_LIMIT_EXCEEDED;
            }
        }
        // If all else fails, return a generic "limit exceeded" message
        return LimitExceededMessageWrapper.UNKNOWN_LIMIT_EXCEEDED;
    }
}
exports.LimitExceededError = LimitExceededError;
/**
 * Error that occurs when trying to get a cache that doesn't exist. To resolve, make sure that the cache you are trying
 * to get exists. If it doesn't create it first and then try again
 */
class CacheNotFoundError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.CACHE_NOT_FOUND_ERROR;
        this._messageWrapper = 'A cache with the specified name does not exist.  To resolve this error, make sure you have created the cache before attempting to use it';
    }
}
exports.CacheNotFoundError = CacheNotFoundError;
/**
 * Error that occurs when trying to get a store that doesn't exist. To resolve, make sure that the store you are trying
 * to get exists. If it doesn't create it first and then try again.
 */
class StoreNotFoundError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.STORE_NOT_FOUND_ERROR;
        this._messageWrapper = 'A store with the specified name does not exist.  To resolve this error, make sure you have created the store before attempting to use it';
    }
}
exports.StoreNotFoundError = StoreNotFoundError;
/**
 * Error that occurs when trying to get an item from store that doesn't exist. To resolve, make sure that the item you are trying
 * to get exists. If it doesn't create it first and then try again.
 */
class StoreItemNotFoundError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.STORE_ITEM_NOT_FOUND_ERROR;
        this._messageWrapper = 'An item with the specified key does not exist';
    }
}
exports.StoreItemNotFoundError = StoreItemNotFoundError;
/**
 * Insufficient permissions to perform an operation on Cache Service
 */
class PermissionError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.PERMISSION_ERROR;
        this._messageWrapper = 'Insufficient permissions to perform an operation on a cache';
    }
}
exports.PermissionError = PermissionError;
/**
 * Server was unable to handle the request.
 */
class ServerUnavailableError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.SERVER_UNAVAILABLE;
        this._messageWrapper = 'The server was unable to handle the request; consider retrying.  If the error persists, please contact us at support@momentohq.com';
    }
}
exports.ServerUnavailableError = ServerUnavailableError;
/**
 * Error when an operation did not complete in time
 */
class TimeoutError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.TIMEOUT_ERROR;
        this._messageWrapper = "The client's configured timeout was exceeded; you may need to use a Configuration with more lenient timeouts";
    }
}
exports.TimeoutError = TimeoutError;
/**
 * Error raised when the underlying cause in unknown
 */
class UnknownError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.UNKNOWN_ERROR;
        this._messageWrapper = 'Unknown error has occurred';
    }
}
exports.UnknownError = UnknownError;
/**
 * Error raised when the service returns an unknown response
 */
class UnknownServiceError extends SdkError {
    constructor() {
        super(...arguments);
        this._errorCode = MomentoErrorCode.UNKNOWN_SERVICE_ERROR;
        this._messageWrapper = 'Service returned an unknown response; please contact us at support@momentohq.com';
    }
}
exports.UnknownServiceError = UnknownServiceError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2Vycm9ycy9lcnJvcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsSUFBWSxnQkEyQ1g7QUEzQ0QsV0FBWSxnQkFBZ0I7SUFDMUIsNENBQTRDO0lBQzVDLHFFQUFpRCxDQUFBO0lBQ2pELHVDQUF1QztJQUN2QyxtRUFBK0MsQ0FBQTtJQUMvQywyQ0FBMkM7SUFDM0MsdUVBQW1ELENBQUE7SUFDbkQseURBQXlEO0lBQ3pELGlFQUE2QyxDQUFBO0lBQzdDLDJDQUEyQztJQUMzQyx1RUFBbUQsQ0FBQTtJQUNuRCwwQ0FBMEM7SUFDMUMsNkRBQXlDLENBQUE7SUFDekMsb0RBQW9EO0lBQ3BELHVEQUFtQyxDQUFBO0lBQ25DLDBDQUEwQztJQUMxQyxtRUFBK0MsQ0FBQTtJQUMvQyx3Q0FBd0M7SUFDeEMsNkVBQXlELENBQUE7SUFDekQsbUVBQW1FO0lBQ25FLG1FQUErQyxDQUFBO0lBQy9DLGdEQUFnRDtJQUNoRCx5REFBcUMsQ0FBQTtJQUNyQyxpRUFBaUU7SUFDakUsaUVBQTZDLENBQUE7SUFDN0Msc0NBQXNDO0lBQ3RDLHVEQUFtQyxDQUFBO0lBQ25DLHNDQUFzQztJQUN0Qyx5REFBcUMsQ0FBQTtJQUNyQyw4RUFBOEU7SUFDOUUsaUVBQTZDLENBQUE7SUFDN0Msc0JBQXNCO0lBQ3RCLDJEQUF1QyxDQUFBO0lBQ3ZDLDJDQUEyQztJQUMzQyxtREFBK0IsQ0FBQTtJQUMvQiwwQ0FBMEM7SUFDMUMsNkRBQXlDLENBQUE7SUFDekMsdURBQXVEO0lBQ3ZELDJFQUF1RCxDQUFBO0lBQ3ZELGtFQUFrRTtJQUNsRSwyRUFBdUQsQ0FBQTtJQUN2RCw2QkFBNkI7SUFDN0IsbURBQStCLENBQUE7QUFDakMsQ0FBQyxFQTNDVyxnQkFBZ0IsR0FBaEIsd0JBQWdCLEtBQWhCLHdCQUFnQixRQTJDM0I7QUFFRCxNQUFhLHVCQUF1QjtJQUlsQyxZQUFZLElBQVksRUFBRSxP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ekksQ0FBQztDQUFBO0FBSkQsd0RBSUM7QUFFRDs7R0FFRztBQUNILE1BQWEsWUFBYSxTQUFRLFFBQVE7SUFBMUM7O1FBQ1csZUFBVSxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQztRQUM1QyxvQkFBZSxHQUN0Qiw4R0FBOEcsQ0FBQztJQUNuSCxDQUFDO0NBQUE7QUFKRCxvQ0FJQztBQUVEOztHQUVHO0FBQ0gsTUFBYSxZQUFhLFNBQVEsUUFBUTtJQUExQzs7UUFDVyxlQUFVLEdBQUcsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1FBQzVDLG9CQUFlLEdBQUcsNEJBQTRCLENBQUM7SUFDMUQsQ0FBQztDQUFBO0FBSEQsb0NBR0M7QUFFRDs7R0FFRztBQUNILE1BQWEsbUJBQW9CLFNBQVEsUUFBUTtJQUFqRDs7UUFDVyxlQUFVLEdBQUcsZ0JBQWdCLENBQUMscUJBQXFCLENBQUM7UUFDcEQsb0JBQWUsR0FDdEIsa0ZBQWtGLENBQUM7SUFDdkYsQ0FBQztDQUFBO0FBSkQsa0RBSUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBNb21lbnRvRXJyb3JDb2RlIHtcbiAgLy8gSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gTW9tZW50byBjbGllbnRcbiAgSU5WQUxJRF9BUkdVTUVOVF9FUlJPUiA9ICdJTlZBTElEX0FSR1VNRU5UX0VSUk9SJyxcbiAgLy8gU2VydmljZSByZXR1cm5lZCBhbiB1bmtub3duIHJlc3BvbnNlXG4gIFVOS05PV05fU0VSVklDRV9FUlJPUiA9ICdVTktOT1dOX1NFUlZJQ0VfRVJST1InLFxuICAvLyBDYWNoZSB3aXRoIHNwZWNpZmllZCBuYW1lIGFscmVhZHkgZXhpc3RzXG4gIENBQ0hFX0FMUkVBRFlfRVhJU1RTX0VSUk9SID0gJ0FMUkVBRFlfRVhJU1RTX0VSUk9SJyxcbiAgLyoqIEBkZXByZWNhdGVkIHVzZSBDQUNIRV9BTFJFQURZX0VYSVNUU19FUlJPUiBpbnN0ZWFkICovXG4gIEFMUkVBRFlfRVhJU1RTX0VSUk9SID0gJ0FMUkVBRFlfRVhJU1RTX0VSUk9SJyxcbiAgLy8gU3RvcmUgd2l0aCBzcGVjaWZpZWQgbmFtZSBhbHJlYWR5IGV4aXN0c1xuICBTVE9SRV9BTFJFQURZX0VYSVNUU19FUlJPUiA9ICdBTFJFQURZX0VYSVNUU19FUlJPUicsXG4gIC8vIENhY2hlIHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lc24ndCBleGlzdFxuICBDQUNIRV9OT1RfRk9VTkRfRVJST1IgPSAnTk9UX0ZPVU5EX0VSUk9SJyxcbiAgLyoqIEBkZXByZWNhdGVkIHVzZSBDQUNIRV9OT1RfRk9VTkRfRVJST1IgaW5zdGVhZCAqL1xuICBOT1RfRk9VTkRfRVJST1IgPSAnTk9UX0ZPVU5EX0VSUk9SJyxcbiAgLy8gU3RvcmUgd2l0aCBzcGVjaWZpZWQgbmFtZSBkb2Vzbid0IGV4aXN0XG4gIFNUT1JFX05PVF9GT1VORF9FUlJPUiA9ICdTVE9SRV9OT1RfRk9VTkRfRVJST1InLFxuICAvLyBJdGVtIHdpdGggc3BlY2lmaWVkIGtleSBkb2Vzbid0IGV4aXN0XG4gIFNUT1JFX0lURU1fTk9UX0ZPVU5EX0VSUk9SID0gJ1NUT1JFX0lURU1fTk9UX0ZPVU5EX0VSUk9SJyxcbiAgLy8gQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gZnVsZmlsbCB0aGUgcmVxdWVzdFxuICBJTlRFUk5BTF9TRVJWRVJfRVJST1IgPSAnSU5URVJOQUxfU0VSVkVSX0VSUk9SJyxcbiAgLy8gSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zIHRvIHBlcmZvcm0gb3BlcmF0aW9uXG4gIFBFUk1JU1NJT05fRVJST1IgPSAnUEVSTUlTU0lPTl9FUlJPUicsXG4gIC8vIEludmFsaWQgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgdG8gY29ubmVjdCB0byBjYWNoZSBzZXJ2aWNlXG4gIEFVVEhFTlRJQ0FUSU9OX0VSUk9SID0gJ0FVVEhFTlRJQ0FUSU9OX0VSUk9SJyxcbiAgLy8gUmVxdWVzdCB3YXMgY2FuY2VsbGVkIGJ5IHRoZSBzZXJ2ZXJcbiAgQ0FOQ0VMTEVEX0VSUk9SID0gJ0NBTkNFTExFRF9FUlJPUicsXG4gIC8vIEVycm9yIGNvbm5lY3RpbmcgdG8gTW9tZW50byBzZXJ2ZXJzXG4gIENPTk5FQ1RJT05fRVJST1IgPSAnQ09OTkVDVElPTl9FUlJPUicsXG4gIC8vIFJlcXVlc3QgcmF0ZSwgYmFuZHdpZHRoLCBvciBvYmplY3Qgc2l6ZSBleGNlZWRlZCB0aGUgbGltaXRzIGZvciB0aGUgYWNjb3VudFxuICBMSU1JVF9FWENFRURFRF9FUlJPUiA9ICdMSU1JVF9FWENFRURFRF9FUlJPUicsXG4gIC8vIFJlcXVlc3Qgd2FzIGludmFsaWRcbiAgQkFEX1JFUVVFU1RfRVJST1IgPSAnQkFEX1JFUVVFU1RfRVJST1InLFxuICAvLyBDbGllbnQncyBjb25maWd1cmVkIHRpbWVvdXQgd2FzIGV4Y2VlZGVkXG4gIFRJTUVPVVRfRVJST1IgPSAnVElNRU9VVF9FUlJPUicsXG4gIC8vIFNlcnZlciB3YXMgdW5hYmxlIHRvIGhhbmRsZSB0aGUgcmVxdWVzdFxuICBTRVJWRVJfVU5BVkFJTEFCTEUgPSAnU0VSVkVSX1VOQVZBSUxBQkxFJyxcbiAgLy8gQSBjbGllbnQgcmVzb3VyY2UgKG1vc3QgbGlrZWx5IG1lbW9yeSkgd2FzIGV4aGF1c3RlZFxuICBDTElFTlRfUkVTT1VSQ0VfRVhIQVVTVEVEID0gJ0NMSUVOVF9SRVNPVVJDRV9FWEhBVVNURUQnLFxuICAvLyBTeXN0ZW0gaXMgbm90IGluIGEgc3RhdGUgcmVxdWlyZWQgZm9yIHRoZSBvcGVyYXRpb24ncyBleGVjdXRpb25cbiAgRkFJTEVEX1BSRUNPTkRJVElPTl9FUlJPUiA9ICdGQUlMRURfUFJFQ09ORElUSU9OX0VSUk9SJyxcbiAgLy8gVW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWRcbiAgVU5LTk9XTl9FUlJPUiA9ICdVTktOT1dOX0VSUk9SJyxcbn1cblxuZXhwb3J0IGNsYXNzIE1vbWVudG9HcnBjRXJyb3JEZXRhaWxzIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvZGU6IG51bWJlcjtcbiAgcHVibGljIHJlYWRvbmx5IGRldGFpbHM6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IG1ldGFkYXRhPzogb2JqZWN0O1xuICBjb25zdHJ1Y3Rvcihjb2RlOiBudW1iZXIsIGRldGFpbHM6IHN0cmluZywgbWV0YWRhdGE/OiBvYmplY3QpIHtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb21lbnRvRXJyb3JUcmFuc3BvcnREZXRhaWxzIHtcbiAgcHVibGljIHJlYWRvbmx5IGdycGM6IE1vbWVudG9HcnBjRXJyb3JEZXRhaWxzO1xuICBjb25zdHJ1Y3RvcihncnBjOiBNb21lbnRvR3JwY0Vycm9yRGV0YWlscykge1xuICAgIHRoaXMuZ3JwYyA9IGdycGM7XG4gIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGVycm9ycyB0aHJvd24gYnkgdGhlIHNka1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2RrRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHByb3RlY3RlZCByZWFkb25seSBfZXJyb3JDb2RlOiBNb21lbnRvRXJyb3JDb2RlO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX21lc3NhZ2VXcmFwcGVyOiBzdHJpbmc7XG4gIHByb3RlY3RlZCByZWFkb25seSBfdHJhbnNwb3J0RGV0YWlsczogTW9tZW50b0Vycm9yVHJhbnNwb3J0RGV0YWlscztcbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvZGUgPSAwLFxuICAgIG1ldGFkYXRhOiBvYmplY3QgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgc3RhY2s6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBjb25zdCBncnBjRGV0YWlscyA9IG5ldyBNb21lbnRvR3JwY0Vycm9yRGV0YWlscyhjb2RlLCBtZXNzYWdlLCBtZXRhZGF0YSk7XG4gICAgdGhpcy5fdHJhbnNwb3J0RGV0YWlscyA9IG5ldyBNb21lbnRvRXJyb3JUcmFuc3BvcnREZXRhaWxzKGdycGNEZXRhaWxzKTtcbiAgICB0aGlzLnN0YWNrID0gc3RhY2sgPz8gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIHdyYXBwZWRFcnJvck1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5fbWVzc2FnZVdyYXBwZXJ9OiAke3RoaXMubWVzc2FnZX1gO1xuICB9XG5cbiAgcHVibGljIGVycm9yQ29kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZXJyb3JDb2RlO1xuICB9XG5cbiAgcHVibGljIHRyYW5zcG9ydERldGFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydERldGFpbHM7XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIHRyeWluZyB0byBjcmVhdGUgYSBjYWNoZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYW4gZXhpc3RpbmcgY2FjaGUuIFRvIHJlc29sdmUgdGhpcyBlcnJvcixcbiAqIGVpdGhlciBkZWxldGUgdGhlIGV4aXN0aW5nIGNhY2hlIGFuZCBtYWtlIGEgbmV3IG9uZSwgb3IgY2hhbmdlIHRoZSBuYW1lIG9mIHRoZSBjYWNoZSB5b3UgYXJlIHRyeWluZyB0byBjcmVhdGUgdG9cbiAqIG9uZSB0aGF0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICovXG5leHBvcnQgY2xhc3MgQ2FjaGVBbHJlYWR5RXhpc3RzRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkNBQ0hFX0FMUkVBRFlfRVhJU1RTX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdBIGNhY2hlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFscmVhZHkgZXhpc3RzLiAgVG8gcmVzb2x2ZSB0aGlzIGVycm9yLCBlaXRoZXIgZGVsZXRlIHRoZSBleGlzdGluZyBjYWNoZSBhbmQgbWFrZSBhIG5ldyBvbmUsIG9yIHVzZSBhIGRpZmZlcmVudCBuYW1lJztcbn1cblxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIHRyeWluZyB0byBjcmVhdGUgYSBzdG9yZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYW4gZXhpc3RpbmcgY2FjaGUuIFRvIHJlc29sdmUgdGhpcyBlcnJvcixcbiAqIGVpdGhlciBkZWxldGUgdGhlIGV4aXN0aW5nIHN0b3JlIGFuZCBtYWtlIGEgbmV3IG9uZSwgb3IgY2hhbmdlIHRoZSBuYW1lIG9mIHRoZSBzdG9yZSB5b3UgYXJlIHRyeWluZyB0byBjcmVhdGUgdG9cbiAqIG9uZSB0aGF0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdFxuICovXG5leHBvcnQgY2xhc3MgU3RvcmVBbHJlYWR5RXhpc3RzRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLlNUT1JFX0FMUkVBRFlfRVhJU1RTX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdBIHN0b3JlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFscmVhZHkgZXhpc3RzLiAgVG8gcmVzb2x2ZSB0aGlzIGVycm9yLCBlaXRoZXIgZGVsZXRlIHRoZSBleGlzdGluZyBzdG9yZSBhbmQgbWFrZSBhIG5ldyBvbmUsIG9yIHVzZSBhIGRpZmZlcmVudCBuYW1lJztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGF1dGhlbnRpY2F0aW9uIHdpdGggQ2FjaGUgU2VydmljZSBmYWlsc1xuICovXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25FcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgb3ZlcnJpZGUgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuQVVUSEVOVElDQVRJT05fRVJST1I7XG4gIG92ZXJyaWRlIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ0ludmFsaWQgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgdG8gY29ubmVjdCB0byBjYWNoZSBzZXJ2aWNlJztcbn1cblxuLyoqXG4gKiBFcnJvciByYWlzZWQgaW4gcmVzcG9uc2UgdG8gYW4gaW52YWxpZCByZXF1ZXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBCYWRSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkJBRF9SRVFVRVNUX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdUaGUgcmVxdWVzdCB3YXMgaW52YWxpZDsgcGxlYXNlIGNvbnRhY3QgdXMgYXQgc3VwcG9ydEBtb21lbnRvaHEuY29tJztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGFuIG9wZXJhdGlvbiB3aXRoIENhY2hlIFNlcnZpY2Ugd2FzIGNhbmNlbGxlZFxuICovXG5leHBvcnQgY2xhc3MgQ2FuY2VsbGVkRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkNBTkNFTExFRF9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID1cbiAgICAnVGhlIHJlcXVlc3Qgd2FzIGNhbmNlbGxlZDsgcGxlYXNlIGNvbnRhY3QgdXMgaWYgdGhpcyB3YXMgdW5leHBlY3RlZCBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20nO1xufVxuXG4vKipcbiAqIEVycm9yIHdoZW4gdGhlcmUncyBhIGZhaWx1cmUgdG8gY29ubmVjdCB0byBNb21lbnRvIHNlcnZlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkNPTk5FQ1RJT05fRVJST1I7XG59XG5cbi8qKlxuICogRXJyb3IgcmFpc2VkIHdoZW4gc3lzdGVtIGluIG5vdCBpbiBhIHN0YXRlIHJlcXVpcmVkIGZvciB0aGUgb3BlcmF0aW9uJ3Mgc3VjY2Vzc1xuICovXG5leHBvcnQgY2xhc3MgRmFpbGVkUHJlY29uZGl0aW9uRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkZBSUxFRF9QUkVDT05ESVRJT05fRVJST1I7XG4gIG92ZXJyaWRlIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgXCJTeXN0ZW0gaXMgbm90IGluIGEgc3RhdGUgcmVxdWlyZWQgZm9yIHRoZSBvcGVyYXRpb24ncyBleGVjdXRpb25cIjtcbn1cblxuLyoqXG4gKiBDYWNoZSBTZXJ2aWNlIGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgZXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBmdWxmaWxsIHRoZSByZXF1ZXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcm5hbFNlcnZlckVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBvdmVycmlkZSBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1I7XG4gIG92ZXJyaWRlIF9tZXNzYWdlV3JhcHBlciA9XG4gICAgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGZ1bGZpbGwgdGhlIHJlcXVlc3Q7IHBsZWFzZSBjb250YWN0IHVzIGF0IHN1cHBvcnRAbW9tZW50b2hxLmNvbSc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBlcnJvcnMgdGhyb3duIHdoZW4gaW52YWxpZCBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQgdG8gdGhlIE1vbWVudG8gQ2FjaGVcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBvdmVycmlkZSBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5JTlZBTElEX0FSR1VNRU5UX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPSAnSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gTW9tZW50byBjbGllbnQnO1xufVxuXG5lbnVtIExpbWl0RXhjZWVkZWRNZXNzYWdlV3JhcHBlciB7XG4gIFRPUElDX1NVQlNDUklQVElPTlNfTElNSVRfRVhDRUVERUQgPSAnVG9waWMgc3Vic2NyaXB0aW9ucyBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgT1BFUkFUSU9OU19SQVRFX0xJTUlUX0VYQ0VFREVEID0gJ1JlcXVlc3QgcmF0ZSBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgVEhST1VHSFBVVF9SQVRFX0xJTUlUX0VYQ0VFREVEID0gJ0JhbmR3aWR0aCBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgUkVRVUVTVF9TSVpFX0xJTUlUX0VYQ0VFREVEID0gJ1JlcXVlc3Qgc2l6ZSBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgSVRFTV9TSVpFX0xJTUlUX0VYQ0VFREVEID0gJ0l0ZW0gc2l6ZSBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgRUxFTUVOVF9TSVpFX0xJTUlUX0VYQ0VFREVEID0gJ0VsZW1lbnQgc2l6ZSBsaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50JyxcbiAgVU5LTk9XTl9MSU1JVF9FWENFRURFRCA9ICdMaW1pdCBleGNlZWRlZCBmb3IgdGhpcyBhY2NvdW50Jyxcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGNhbGxzIGFyZSB0aHJvdHRsZWQgZHVlIHRvIHJlcXVlc3QgbGltaXQgcmF0ZVxuICovXG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBvdmVycmlkZSBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5MSU1JVF9FWENFRURFRF9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID0gdGhpcy5kZXRlcm1pbmVNZXNzYWdlV3JhcHBlcigpO1xuICBwcml2YXRlIGVyckNhdXNlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGNvZGUgPSAwLFxuICAgIG1ldGFkYXRhOiBvYmplY3QgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgc3RhY2s6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBlcnJDYXVzZT86IHN0cmluZ1xuICApIHtcbiAgICBzdXBlcihtZXNzYWdlLCBjb2RlLCBtZXRhZGF0YSwgc3RhY2spO1xuICAgIHRoaXMuZXJyQ2F1c2UgPSBlcnJDYXVzZTtcbiAgfVxuXG4gIHByaXZhdGUgZGV0ZXJtaW5lTWVzc2FnZVdyYXBwZXIoKSB7XG4gICAgLy8gSWYgcHJvdmlkZWQsIHdlIHVzZSB0aGUgYGVycmAgbWV0YWRhdGEgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBtb3N0XG4gICAgLy8gYXBwcm9wcmlhdGUgZXJyb3IgbWVzc2FnZSB0byByZXR1cm4uXG4gICAgaWYgKHRoaXMuZXJyQ2F1c2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0aGlzLmVyckNhdXNlKSB7XG4gICAgICAgIGNhc2UgJ3RvcGljX3N1YnNjcmlwdGlvbnNfbGltaXRfZXhjZWVkZWQnOlxuICAgICAgICAgIHJldHVybiBMaW1pdEV4Y2VlZGVkTWVzc2FnZVdyYXBwZXIuVE9QSUNfU1VCU0NSSVBUSU9OU19MSU1JVF9FWENFRURFRDtcbiAgICAgICAgY2FzZSAnb3BlcmF0aW9uc19yYXRlX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLk9QRVJBVElPTlNfUkFURV9MSU1JVF9FWENFRURFRDtcbiAgICAgICAgY2FzZSAndGhyb3VnaHB1dF9yYXRlX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLlRIUk9VR0hQVVRfUkFURV9MSU1JVF9FWENFRURFRDtcbiAgICAgICAgY2FzZSAncmVxdWVzdF9zaXplX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLlJFUVVFU1RfU0laRV9MSU1JVF9FWENFRURFRDtcbiAgICAgICAgY2FzZSAnaXRlbV9zaXplX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLklURU1fU0laRV9MSU1JVF9FWENFRURFRDtcbiAgICAgICAgY2FzZSAnZWxlbWVudF9zaXplX2xpbWl0X2V4Y2VlZGVkJzpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLkVMRU1FTlRfU0laRV9MSU1JVF9FWENFRURFRDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLlVOS05PV05fTElNSVRfRVhDRUVERUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgYGVycmAgbWV0YWRhdGEgaXMgdW5hdmFpbGFibGUsIHRyeSB0byB1c2UgdGhlIGVycm9yIGRldGFpbHMgZmllbGRcbiAgICAvLyB0byByZXR1cm4gdGhlIGFuIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2UuXG4gICAgaWYgKHRoaXMuX3RyYW5zcG9ydERldGFpbHMuZ3JwYy5kZXRhaWxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGRldGFpbHMgPSB0aGlzLl90cmFuc3BvcnREZXRhaWxzLmdycGMuZGV0YWlscy50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGRldGFpbHMuaW5jbHVkZXMoJ3N1YnNjcmliZXJzJykpIHtcbiAgICAgICAgcmV0dXJuIExpbWl0RXhjZWVkZWRNZXNzYWdlV3JhcHBlci5UT1BJQ19TVUJTQ1JJUFRJT05TX0xJTUlUX0VYQ0VFREVEO1xuICAgICAgfSBlbHNlIGlmIChkZXRhaWxzLmluY2x1ZGVzKCdvcGVyYXRpb25zJykpIHtcbiAgICAgICAgcmV0dXJuIExpbWl0RXhjZWVkZWRNZXNzYWdlV3JhcHBlci5PUEVSQVRJT05TX1JBVEVfTElNSVRfRVhDRUVERUQ7XG4gICAgICB9IGVsc2UgaWYgKGRldGFpbHMuaW5jbHVkZXMoJ3Rocm91Z2hwdXQnKSkge1xuICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLlRIUk9VR0hQVVRfUkFURV9MSU1JVF9FWENFRURFRDtcbiAgICAgIH0gZWxzZSBpZiAoZGV0YWlscy5pbmNsdWRlcygncmVxdWVzdCBsaW1pdCcpKSB7XG4gICAgICAgIHJldHVybiBMaW1pdEV4Y2VlZGVkTWVzc2FnZVdyYXBwZXIuUkVRVUVTVF9TSVpFX0xJTUlUX0VYQ0VFREVEO1xuICAgICAgfSBlbHNlIGlmIChkZXRhaWxzLmluY2x1ZGVzKCdpdGVtIHNpemUnKSkge1xuICAgICAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLklURU1fU0laRV9MSU1JVF9FWENFRURFRDtcbiAgICAgIH0gZWxzZSBpZiAoZGV0YWlscy5pbmNsdWRlcygnZWxlbWVudCBzaXplJykpIHtcbiAgICAgICAgcmV0dXJuIExpbWl0RXhjZWVkZWRNZXNzYWdlV3JhcHBlci5FTEVNRU5UX1NJWkVfTElNSVRfRVhDRUVERUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHJldHVybiBhIGdlbmVyaWMgXCJsaW1pdCBleGNlZWRlZFwiIG1lc3NhZ2VcbiAgICByZXR1cm4gTGltaXRFeGNlZWRlZE1lc3NhZ2VXcmFwcGVyLlVOS05PV05fTElNSVRfRVhDRUVERUQ7XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIHRyeWluZyB0byBnZXQgYSBjYWNoZSB0aGF0IGRvZXNuJ3QgZXhpc3QuIFRvIHJlc29sdmUsIG1ha2Ugc3VyZSB0aGF0IHRoZSBjYWNoZSB5b3UgYXJlIHRyeWluZ1xuICogdG8gZ2V0IGV4aXN0cy4gSWYgaXQgZG9lc24ndCBjcmVhdGUgaXQgZmlyc3QgYW5kIHRoZW4gdHJ5IGFnYWluXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWNoZU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLkNBQ0hFX05PVF9GT1VORF9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID1cbiAgICAnQSBjYWNoZSB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSBkb2VzIG5vdCBleGlzdC4gIFRvIHJlc29sdmUgdGhpcyBlcnJvciwgbWFrZSBzdXJlIHlvdSBoYXZlIGNyZWF0ZWQgdGhlIGNhY2hlIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHVzZSBpdCc7XG59XG5cbi8qKlxuICogRXJyb3IgdGhhdCBvY2N1cnMgd2hlbiB0cnlpbmcgdG8gZ2V0IGEgc3RvcmUgdGhhdCBkb2Vzbid0IGV4aXN0LiBUbyByZXNvbHZlLCBtYWtlIHN1cmUgdGhhdCB0aGUgc3RvcmUgeW91IGFyZSB0cnlpbmdcbiAqIHRvIGdldCBleGlzdHMuIElmIGl0IGRvZXNuJ3QgY3JlYXRlIGl0IGZpcnN0IGFuZCB0aGVuIHRyeSBhZ2Fpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JlTm90Rm91bmRFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgb3ZlcnJpZGUgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuU1RPUkVfTk9UX0ZPVU5EX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdBIHN0b3JlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0LiAgVG8gcmVzb2x2ZSB0aGlzIGVycm9yLCBtYWtlIHN1cmUgeW91IGhhdmUgY3JlYXRlZCB0aGUgc3RvcmUgYmVmb3JlIGF0dGVtcHRpbmcgdG8gdXNlIGl0Jztcbn1cblxuLyoqXG4gKiBFcnJvciB0aGF0IG9jY3VycyB3aGVuIHRyeWluZyB0byBnZXQgYW4gaXRlbSBmcm9tIHN0b3JlIHRoYXQgZG9lc24ndCBleGlzdC4gVG8gcmVzb2x2ZSwgbWFrZSBzdXJlIHRoYXQgdGhlIGl0ZW0geW91IGFyZSB0cnlpbmdcbiAqIHRvIGdldCBleGlzdHMuIElmIGl0IGRvZXNuJ3QgY3JlYXRlIGl0IGZpcnN0IGFuZCB0aGVuIHRyeSBhZ2Fpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JlSXRlbU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLlNUT1JFX0lURU1fTk9UX0ZPVU5EX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPSAnQW4gaXRlbSB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IGRvZXMgbm90IGV4aXN0Jztcbn1cblxuLyoqXG4gKiBJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gcGVyZm9ybSBhbiBvcGVyYXRpb24gb24gQ2FjaGUgU2VydmljZVxuICovXG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbkVycm9yIGV4dGVuZHMgU2RrRXJyb3Ige1xuICBvdmVycmlkZSBfZXJyb3JDb2RlID0gTW9tZW50b0Vycm9yQ29kZS5QRVJNSVNTSU9OX0VSUk9SO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gcGVyZm9ybSBhbiBvcGVyYXRpb24gb24gYSBjYWNoZSc7XG59XG5cbi8qKlxuICogU2VydmVyIHdhcyB1bmFibGUgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LlxuICovXG5leHBvcnQgY2xhc3MgU2VydmVyVW5hdmFpbGFibGVFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgb3ZlcnJpZGUgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuU0VSVkVSX1VOQVZBSUxBQkxFO1xuICBvdmVycmlkZSBfbWVzc2FnZVdyYXBwZXIgPVxuICAgICdUaGUgc2VydmVyIHdhcyB1bmFibGUgdG8gaGFuZGxlIHRoZSByZXF1ZXN0OyBjb25zaWRlciByZXRyeWluZy4gIElmIHRoZSBlcnJvciBwZXJzaXN0cywgcGxlYXNlIGNvbnRhY3QgdXMgYXQgc3VwcG9ydEBtb21lbnRvaHEuY29tJztcbn1cblxuLyoqXG4gKiBFcnJvciB3aGVuIGFuIG9wZXJhdGlvbiBkaWQgbm90IGNvbXBsZXRlIGluIHRpbWVcbiAqL1xuZXhwb3J0IGNsYXNzIFRpbWVvdXRFcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgb3ZlcnJpZGUgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuVElNRU9VVF9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID1cbiAgICBcIlRoZSBjbGllbnQncyBjb25maWd1cmVkIHRpbWVvdXQgd2FzIGV4Y2VlZGVkOyB5b3UgbWF5IG5lZWQgdG8gdXNlIGEgQ29uZmlndXJhdGlvbiB3aXRoIG1vcmUgbGVuaWVudCB0aW1lb3V0c1wiO1xufVxuXG4vKipcbiAqIEVycm9yIHJhaXNlZCB3aGVuIHRoZSB1bmRlcmx5aW5nIGNhdXNlIGluIHVua25vd25cbiAqL1xuZXhwb3J0IGNsYXNzIFVua25vd25FcnJvciBleHRlbmRzIFNka0Vycm9yIHtcbiAgb3ZlcnJpZGUgX2Vycm9yQ29kZSA9IE1vbWVudG9FcnJvckNvZGUuVU5LTk9XTl9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID0gJ1Vua25vd24gZXJyb3IgaGFzIG9jY3VycmVkJztcbn1cblxuLyoqXG4gKiBFcnJvciByYWlzZWQgd2hlbiB0aGUgc2VydmljZSByZXR1cm5zIGFuIHVua25vd24gcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNsYXNzIFVua25vd25TZXJ2aWNlRXJyb3IgZXh0ZW5kcyBTZGtFcnJvciB7XG4gIG92ZXJyaWRlIF9lcnJvckNvZGUgPSBNb21lbnRvRXJyb3JDb2RlLlVOS05PV05fU0VSVklDRV9FUlJPUjtcbiAgb3ZlcnJpZGUgX21lc3NhZ2VXcmFwcGVyID1cbiAgICAnU2VydmljZSByZXR1cm5lZCBhbiB1bmtub3duIHJlc3BvbnNlOyBwbGVhc2UgY29udGFjdCB1cyBhdCBzdXBwb3J0QG1vbWVudG9ocS5jb20nO1xufVxuIl19